NAPA=typeof NAPA==="object"?NAPA:{};NAPA.viewerDialog;NAPA.zoomViewer;NAPA.legacy=new (function(){var init=function(){var listingGrid=$(".listing-items-grid");if($(listingGrid).length){$(listingGrid).find(".row .grid-1-3").responsiveEqualHeightGrid();}};return{init:init};})();NAPA.placeholder=new (function(){var allInputs=$("input, textarea");var init=function(){$(allInputs).placeholder();};return{init:init};})();NAPA.phoneinputmask=new (function(){var phoneInput=$("[data-phone]");var init=function(){phoneInput.mask("?(999) 999-9999");};return{init:init};})();NAPA.carousel=new (function(){var init=function(){var carouselHomeEl=$(".nol-home-carousel");if($(carouselHomeEl).length){carouselHome(carouselHomeEl);}var carouselFeaturedEl=$(".nol-featured-carousel");if($(carouselFeaturedEl).length){carouselFeatured(carouselFeaturedEl);}var carouselSpecialityItemsEl=$(".nol-specialty-items-carousel");if($(carouselSpecialityItemsEl).length){carouselSpecialityItems(carouselSpecialityItemsEl);}var carouselPDPEl=$(".nol-pdp-thumbnail-carousel");if($(carouselPDPEl).length){carouselPDP(carouselPDPEl);}};var carouselHome=function(carouselEl){var carouselHomeEl=$(carouselEl);carouselHomeEl.slick({accessibility:false,dots:true,draggable:true,arrows:false,infinite:true,autoplay:true,autoplaySpeed:6000});};var carouselFeatured=function(carouselEl){var carouselFeaturedEl=$(carouselEl);carouselFeaturedEl.slick({accessibility:false,dots:false,draggable:true,arrows:true,infinite:true,slidesToShow:3,slidesToScroll:3});};var carouselSpecialityItems=function(carouselEl){var carouselSpecialityItemsEl=$(carouselEl);carouselSpecialityItemsEl.slick({accessibility:false,dots:false,draggable:true,arrows:true,infinite:true,slidesToShow:7,slidesToScroll:7});};var carouselPDP=function(carouselEl){var carouselPDPEl=$(carouselEl);carouselPDPEl.on("init",function(event,slick){if(slick.$nextArrow||slick.$prevArrow){slick.$slider.css({padding:"40px 0"});}});carouselPDPEl.slick({accessibility:false,dots:false,draggable:true,arrows:true,infinite:false,vertical:true,slidesToShow:3,slidesToScroll:3});};return{init:init};})();NAPA.myMenu=new (function(){var menuTrigger=$('[data-trigger="my-menu"]'),menuParentSelector=".my-menu",menuParent=$(menuParentSelector),menuOpenClass="my-menu-open",menuCloseTrigger=$(".my-menu-panel-close");var init=function(){menuTrigger.on("click",showMenu);menuCloseTrigger.on("click",function(event){resetMenus();event.preventDefault();});};var showMenu=function(event){var clicked=$(this);if(clicked.parents(menuParentSelector).hasClass(menuOpenClass)){clicked.parents(menuParentSelector).removeClass(menuOpenClass);if(window&&window._geo_service_config&&window._geo_service_config.enableVehicleBannerExactfit==="true"){var yeloowTooltip=document.querySelector(".enableMobileYellowTrip.visible");if(yeloowTooltip&&document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible")){document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible").classList.add("normal");document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible").classList.remove("resize");}}}else{resetMenus();clicked.parents(menuParentSelector).addClass(menuOpenClass);if(window&&window._geo_service_config&&window._geo_service_config.enableVehicleBannerExactfit==="true"){var yeloowTooltip=document.querySelector(".enableMobileYellowTrip.visible");if(yeloowTooltip&&document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible")){document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible").classList.add("resize");document.querySelector(".geo-vehicleInfo-needed-outerWrap.visible").classList.remove("normal");}}}clickOut();event.preventDefault();};var resetMenus=function(){menuParent.removeClass(menuOpenClass);};var clickOut=function(){$(document).on("click",function(event){var container=$(menuParentSelector+"."+menuOpenClass);if(!container.is(event.target)&&container.has(event.target).length===0){resetMenus();}});};return{init:init};})();NAPA.navigation=new (function(){var navTrigger=$('[data-trigger="navigation"]'),navParentSelector=".navigation-item",navParent=$(navParentSelector),navOpenClass="navigation-open",navNOL=$(".nol-navigation"),navNOLOpenClass="nol-navigation-open";var init=function(){navTrigger.on("click",showMenu);navPromoClose();};var showMenu=function(event){var clicked=$(this);if(clicked.parents(navParentSelector).hasClass(navOpenClass)){clicked.parents(navParentSelector).removeClass(navOpenClass);removeBorderToNOL();}else{resetMenus();clicked.parents(navParentSelector).addClass(navOpenClass);megaNavOn();addBorderToNOL();}clickOut();event.preventDefault();};var resetMenus=function(){navParent.removeClass(navOpenClass);megaNavOff();removeBorderToNOL();};var addBorderToNOL=function(){navNOL.addClass(navNOLOpenClass);};var removeBorderToNOL=function(){navNOL.removeClass(navNOLOpenClass);};var clickOut=function(){$(document).on("click",function(event){var container=$(navParentSelector+"."+navOpenClass);if((!container.is(event.target)&&container.has(event.target).length===0)||$(".navigation-panel").is(event.target)){resetMenus();}});};var navPromoClose=function(){$(".nav-promo-close").on("click",function(event){$(this).parents(".nol-nav-promo").detach();event.preventDefault();});};var megaNavOn=function(){$("[data-navigation-panel-selector]").on("click",function(event){event.preventDefault();var panelToSelect=$(this).data("navigation-panel-selector");if($(this).hasClass("navigation-panel-selector-active")){return;}$(".navigation-panel-selector").removeClass("navigation-panel-selector-active");$(this).addClass("navigation-panel-selector-active");$(".navigation-panel-group").removeClass("navigation-panel-group-active");$('[data-navigation-panel-group="'+panelToSelect+'"]').addClass("navigation-panel-group-active");});};var megaNavOff=function(){$("[data-navigation-panel-selector]").off("click");};return{init:init};})();NAPA.autocomplete=new (function(){var charLength=0,navSearchInput=$(".navigation-search-input"),navSearchPanel=$(".navigation-search-panel"),navSearchPanelList=$(".navigation-search-panel-list");var init=function(){typeahead(navSearchInput);};var typeahead=function(element){var navElement=element;navElement.on("focusin keyup",navChange);};var navChange=function(){charLength=$(this).val().length;if(charLength>=2){navData($(this));}else{navHide();}};var navData=function(element){var options=element.data("options");if(options.enabled){$.get(options.url,{term:element.val()},function(data){var terms=data,createdItem,createdLink;if(navSearchPanelList.length){navSearchPanelList.empty();}else{navSearchPanelList=$(document.createElement("ul")).addClass("navigation-panel-list navigation-search-panel-list");navSearchPanel.append(navSearchPanelList);}$(terms).each(function(index,term){createdItem=$(document.createElement("li")).addClass("navigation-panel-list-item");createdLink=$(document.createElement("a")).addClass("navigation-panel-list-link").text(term);navSearchPanelList.append(createdItem.html(createdLink));});if(data.length>0){navShow();navClick();}}).fail(function(){console.log("Could not retrieve data");navHide();});}};var navShow=function(){navSearchPanel.show();clickOut();};var navHide=function(){navSearchPanel.hide();};var navClick=function(){$(document).on("click",".navigation-panel-list-link",function(event){event.preventDefault();var text=$(this).text();navSearchInput.val(text);navHide();});};var clickOut=function(){$(document).on("click",function(event){var container=$(".navigation-search");if(!container.is(event.target)&&container.has(event.target).length===0){navHide();}});};return{init:init};})();NAPA.tooltips=new (function(){var init=function(){var winWidth=$(window).width();if(winWidth>1024){$(document).on("mouseenter focus","[data-tooltip-trigger]",function(event){$(this).qtip({overwrite:false,content:{text:$(this).next(".tooltip")},show:{event:event.type,solo:true,ready:true},hide:{event:"click mouseleave",fixed:true,delay:500},position:{my:"top center",at:"bottom center",adjust:{y:-4},target:$(this),viewport:$(window)},style:{tip:{width:18,height:8}}},event);});}else{$(document).on("click","[data-tooltip-trigger]",function(event){$(this).qtip({overwrite:false,content:{text:$(this).next(".tooltip")},show:{event:event.type,solo:true,ready:true},hide:{event:"click mouseleave",fixed:true,delay:500},position:{my:"top center",at:"bottom center",adjust:{y:-4},target:$(this),viewport:$(window)},style:{tip:{width:18,height:8}}},event);});$(".icon-napa-info").hover(function(){$(this).closest(".qtip.qtip-default").removeAttr("style");});$(document).mouseup(function(e){var $target=$(e.target);if(!$target.closest("[data-tooltip-trigger]").length){$(".qtip.qtip-default").removeAttr("style");}});}};return{init:init};})();NAPA.filters=new (function(){var filterPanelTrigger=$('[data-trigger="filter-panel-toggle"]'),filterPanelSelector=".filter-panel",filterPanelOpenClass="filter-panel-open",filterListMoreTrigger=$('[data-trigger="filter-list-more"]');var init=function(){filterPanelTrigger.on("click",filterPanelToggle);filterListMoreToggle();};var filterPanelToggle=function(event){$(this).parents(filterPanelSelector).toggleClass(filterPanelOpenClass);if($(this).parents(filterPanelSelector).hasClass("filter-panel-open")){$(this).attr("aria-expanded","true");}else{$(this).attr("aria-expanded","false");}var $ariaExpanded=$(".filter-panel").find(".filter-panel-title");if(!$ariaExpanded.attr("aria-expanded")){$ariaExpanded.attr("aria-expanded")=="true";$(this).parents(filterPanelSelector).find(".filter-panel-content").attr("tabindex","-1").focus();}event.preventDefault();};var filterListMoreToggle=function(event){filterListMoreTrigger.on("click",function(event){var el=$(this);if(el.text()===el.data("text-less")){el.text(el.data("text-more"));}else{el.text(el.data("text-less"));}var itemcount=el.parents(filterPanelSelector).find("#itemcount").val()||5;el.parents(filterPanelSelector).find(".filter-item").each(function(index,item){var itemNum=index+1;if(itemNum>itemcount){$(this).toggleClass("filter-item-hidden");}});event.preventDefault();});};return{init:init};})();NAPA.listings=new (function(){var listingViewTrigger=$(".listings-view-toggle"),listingViewActiveClass="listings-view-toggle-active",listingItems=$(".listing-items"),listingItemsClasses="listing-items-list listing-items-grid";var init=function(){listingViewTrigger.on("click",toggleListingView);};var toggleListingView=function(event){var el=$(this);toggleListingToggles(el);toggleListingItems(el);event.preventDefault();};var toggleListingToggles=function(el){var listingView=el.data("listings-view"),activeListingTrigger=$('.listings-view-toggle[data-listings-view="'+listingView+'"]');listingViewTrigger.removeClass(listingViewActiveClass);activeListingTrigger.addClass(listingViewActiveClass);};var toggleListingItems=function(el){var listingView=el.data("listings-view");listingItems.removeClass(listingItemsClasses);listingItems.addClass("listing-items-"+listingView);};return{init:init};})();NAPA.compare=new (function(){var compareRemoveTrigger=$(".listing-compare-remove"),compareItemSelector=".compare-item",compareDetailsSelector=".compare-details",compareItemNum;if($(compareItemSelector).length>2){compareRemoveTrigger.show();}var init=function(){removeItemCheck();compareRemoveTrigger.on("click",removeCompare);if($(compareItemSelector).length>2){compareRemoveTrigger.show();}};var removeCompare=function(event){var trigger=$(this);removeCompareDetails(trigger);event.preventDefault();};var findCompareItemNum=function(el){compareItemNum=el.parents(compareItemSelector).data("compare-item");return compareItemNum;};var removeCompareDetails=function(el){findCompareItemNum(el);console.log(compareItemNum);el.parents(compareItemSelector).detach();$('.compare-details[data-compare-item="'+compareItemNum+'"]').detach();removeItemCheck();};var removeItemCheck=function(){if($(compareItemSelector).length<=2){compareRemoveTrigger.detach();}};return{init:init};})();NAPA.orderDrawer=new (function(){var triggerOrderNumber=$(".order-table .order-number"),triggerOrderView=$(".order-table .order-view"),drawerClose=$(".order-inline .order-details-close");var closeCurrentDrawer=function(e){$(this).parents(".order-inline").hide(200);$(".order-inline").parent().children().removeClass("open");};var toggleDrawer=function(e){e.preventDefault();$(this).parent().parent().addClass("open");var parentRow=$(this).parents("tr"),currentDrawer=parentRow.next(".order-inline");if(parentRow.next(".order-inline:hidden").length){closeAllDrawer();currentDrawer.show(200);currentDrawer.prev().addClass("open");$(".order-number").attr("aria-expanded","true");}else{closeAllDrawer();$(".order-inline").parent().children().removeClass("open");$(".order-number").attr("aria-expanded","false");}};var closeAllDrawer=function(){$(".order-inline").hide(200);$(".order-inline").parent().children().removeClass("open");};var init=function(){triggerOrderNumber.on("click",toggleDrawer);triggerOrderView.on("click",toggleDrawer);drawerClose.on("click",closeCurrentDrawer);};return{init:init};})();NAPA.pdpTab=new (function(){var trigger=$(".pdp-tab-header li"),targetContainer=$(".pdp-tab-content");var switchTab=function(){var $this=$(this),isActive=$this.hasClass("active"),targetTab=$this.data("pdp-tab"),targetTabHTML=$(targetTab).html();if(!isActive){trigger.removeClass("active");$this.addClass("active");targetContainer.html(targetTabHTML);}};var init=function(){var firstTab=trigger.eq(0).data("pdp-tab"),isActive=trigger.eq(0).hasClass("active");if(!isActive){firstTab=trigger.eq(1).data("pdp-tab");}var firstTabHTML=$(firstTab).html();targetContainer.html(firstTabHTML);trigger.on("click",switchTab);};return{init:init};})();NAPA.pdpImageSwitch=new (function(){var trigger=$(".image-additional-item");var switchMainImage=function(){var $this=$(this),mainImageURL=$this.find(".image-thumb").data("pdp-main-image"),mainImageContainer=$(".image-product-main img");trigger.removeClass("active");$this.addClass("active");mainImageContainer.attr("src",mainImageURL);};var init=function(){trigger.on("click",switchMainImage);};return{init:init};})();NAPA.emailSignup=new (function(){var init=function(){$(".email-form-wrapper .pure-controls.cta").on("click","button.yellow",showConfirm);};var showConfirm=function(ev){ev.preventDefault();$(".email-form-wrapper form").hide(200);$(".subscribe-confirm").show(200);};return{init:init};})();NAPA.accordion=new (function(){var init=function(){$(".expand").on("click",expandfunc);$(".collapse").on("click",collapsefunc);};var expandfunc=function(ev){ev.preventDefault();$(".filter-panel").addClass("filter-panel-open");$(".filter-panel").attr("aria-expanded","true");console.log("test");};var collapsefunc=function(ev){ev.preventDefault();$(".filter-panel").removeClass("filter-panel-open");$(".filter-panel").attr("aria-expanded","false");};return{init:init};})();NAPA.forgotPassword=new (function(){var init=function(){$("#modalForgotPassword").on("click","button",showEmailSent);};var showEmailSent=function(event){event.preventDefault();console.log("clicked");var confirmString="If your account is invalid, then you should receive an email. Please check your email for password reset instructions. For your protection, you will have 2 hours to authorize the link and reset your password.";$(this).parents(".modal-content").find(".modal-form").detach().end().find(".modal-buttons").detach().end().find(".modal-text p").html(confirmString);};return{init:init};})();NAPA.shippingInfo=new (function(){var init=function(){$(".saved-address-block").on("click",savedAddressBlock);$(".saved-address-icon").on("click",savedAddressIcon);$(".saved-add-new-address-1").on("click",savedAddressNewAddressOne);$(".saved-add-new-address").on("click",savedAddressNewAddress);$(".saved-address-block-list").on("click",savedAddressBlockList);};var savedAddressBlock=function(ev){$(".saved-address-block-list").toggle();};var savedAddressIcon=function(ev){$(".saved-address-block-list").toggle();};var savedAddressNewAddressOne=function(ev){$(".saved-address-block").html($(this).html()).removeClass("disabled");$(".saved-address-block-list").css("display","none");$(".form-header-text").css("display","none");var closeDiv=$(this).closest(".box-content");var addressId=$(this).attr("id");var url=$("#myAddressUrls").attr("data-edit-address-url")+"?selectedAddressCode="+addressId;$.ajax({url:url,type:"GET",success:function(response){var result=DOMPurify.sanitize(response);if(closeDiv.find("#floatright").length<1){closeDiv.find(".shipping-method").css("display","none");closeDiv.find("#shipping-method").css("display","block");$(".floatright").html(result);}else{$(".floatright").html(result);}}});};var savedAddressNewAddress=function(ev){$(".saved-address-block").html($(this).html()).addClass("disabled");$(".saved-address-block-list").css("display","none");if($(".form-header-text").css("display")=="none"){$("#addressType option[value='R']").prop("selected",true);$(".form-header-text").css("display","block");}};var savedAddressBlockList=function(ev){$(".saved-address-block-list").css("display","none");};return{init:init};})();NAPA.billingInfo=new (function(){var init=function(){$(".billing-address-block").on("click",billingAddressBlock);$(".billing-address-icon").on("click",billingAddressIcon);$(".billing-add-new-address-1").on("click",billingAddressNewAddressOne);$(".billing-add-new-address").on("click",billingAddressNewAddress);$(".billing-address-block-list").on("click",billingAddressBlockList);};var billingAddressBlock=function(ev){$(".billing-address-block-list").toggle();};var billingAddressIcon=function(ev){$(".billing-address-block-list").toggle();};var billingAddressNewAddressOne=function(ev){$(".billing-address-block").html($(this).html()).removeClass("disabled");$(".billing-address-block-list").css("display","none");$(".billing-header-text").css("display","none");var addressId=$(this).attr("id");var url=$("#myAddressUrls").attr("data-selectBillingAddressUrl")+"?selectedAddressCode="+addressId;$.ajax({url:url,type:"GET",success:function(response){return false;}});};var billingAddressNewAddress=function(ev){$(".billing-address-block").html($(this).html()).addClass("disabled");$(".billing-address-block-list").css("display","none");$(".billing-header-text").css("display","block");};var billingAddressBlockList=function(ev){$(".billing-address-block-list").css("display","none");};return{init:init};})();NAPA.storeLocatorModel=new (function(){var init=function(){$(".arrow-up").on("click",nolModelStoreLocatorInputs);};var nolModelStoreLocatorInputs=function(ev){var input1=$(this).parents("form").find(".location-input #location .pure-input-1");var input2=$(this).parents("form").find(".location-input #address .pure-input-1");var input1Val=$(this).parents("form").find(".location-input #location .pure-input-1").val();var input2Val=$(this).parents("form").find(".location-input #address .pure-input-1").val();$(input1).val(input2Val);$(input2).val(input1Val);return false;};return{init:init};})();if($("html").is(".ie8")||$("html").is(".ie9")){NAPA.legacy.init();}NAPA.placeholder.init();NAPA.phoneinputmask.init();NAPA.carousel.init();NAPA.myMenu.init();NAPA.navigation.init();NAPA.tooltips.init();NAPA.filters.init();NAPA.listings.init();NAPA.compare.init();if($(".my-order-wrapper .order-inline").length){NAPA.orderDrawer.init();}if($(".pdp-tab-header").length){NAPA.pdpTab.init();}if($(".image-additional-item .image-thumb").length){NAPA.pdpImageSwitch.init();}if($(".email-signup-content .subscribe-confirm").length){NAPA.emailSignup.init();}NAPA.accordion.init();NAPA.forgotPassword.init();NAPA.shippingInfo.init();NAPA.billingInfo.init();NAPA.storeLocatorModel.init();$(".information-address").click(function(){$(".form-header-text").toggle();});$(".store-special-hours-cta a").click(function(e){$(".special-hours-text").toggle();e.preventDefault();});$(document).ready(function(){var removebanner=document.cookie.indexOf("bannercookie")!=-1?true:false;var isIE9=parseInt(navigator.userAgent.toLowerCase().split("msie")[1])<=9;if(!removebanner&&isIE9){$(".compatibility-banner").show();}$(".compatibility-banner-close").on("click",function(){document.cookie="bannercookie";$(".compatibility-banner").detach();});$(".accordion .accordion-bar").on("click",function(e){$(this).closest("div.accordion").toggleClass("open");$(this).closest("div.accordion").toggleClass("closed");});function offsetAnchor(link){if(link.length!==0&&link.length>1){window.scrollTo(window.scrollX,$(link).offset().top-180);}}$(document).on("click",'a[href^="#"]',function(e){e.preventDefault();var link=$(this).attr("href");setTimeout(function(){offsetAnchor(link);},0);});});NAPA.showZoomModal=function(e){var zoomImageUrl=$(e.target)[0].src.split("?$Product=")[1];if(!zoomImageUrl){return false;}NAPA.zoomImageList=[];$(".image-thumb").each(function(ind,obj){NAPA.zoomImageList.push($(obj).data("pdp-main-image").split("?$Product=")[1]);});var configuration={otherClose:".fitment-modal-close",beforeContent:function(){$(this.$instance).find(".featherlight-content").css("border-bottom","none");$(this.$instance).find(".featherlight-content").css("overflow","visible");$("body").addClass("stuck");},closeOnEsc:false,afterClose:function(){$("body").removeClass("stuck");},persist:true};if(!NAPA.viewerDialog){NAPA.zoomViewer=new s7viewers.ZoomViewer();NAPA.zoomViewer.setContainerId("s7viewer");NAPA.zoomViewer.setParam("serverurl","https://s7d9.scene7.com/is/image/");NAPA.zoomViewer.setAsset(NAPA.zoomImageList.toString());NAPA.zoomViewer.setParam("initialFrame",NAPA.zoomImageList.indexOf(zoomImageUrl));NAPA.zoomViewer.setHandlers({trackEvent:function(e){if(e=="s7viewer_mediaset"){NAPA.viewerDialog.open();}}});NAPA.zoomViewer.init();NAPA.viewerDialog=$.featherlight($("#zoomModal"),configuration);}else{NAPA.zoomImageList.splice(NAPA.zoomImageList.indexOf(zoomImageUrl),1);NAPA.zoomImageList.unshift(zoomImageUrl);NAPA.zoomViewer.setAsset(NAPA.zoomImageList.toString());}};$(document).on("click",".image-product-main",NAPA.showZoomModal);$(".wrapper-dropdown").keydown(function(e){var active=$(".wrapper-dropdown").hasClass("active");if((e.which===40||e.which===38)&&active){e.preventDefault();}if(e.which==40&&active){var next=$(".actives").removeClass("actives").next("li");next=next.length>0?next:$(".dropdown-text li:eq(0)");next.addClass("actives").children("a").focus();next.find("p").addClass("actives");}else{if(e.which==38&&active){var prev=$(".actives").removeClass("actives").prev("li");prev=prev.length>0?prev:$(".dropdown-text li").last();prev.addClass("actives").children("a").focus();prev.find("p").addClass("actives");}else{if(e.which==13){$(".actives").click();$(this).click();}else{if(e.keyCode===9||e.which===9){$(".actives").removeClass("actives");$(".wrapper-dropdown").removeClass("active");}}}}});$(".wrapper-dropdown li").on("mouseenter",function(event){$(".wrapper-dropdown li").removeClass("actives");$(this).addClass("actives");});var mylist=$(".dropdown-text");var listitems=mylist.children("li").get();listitems.sort(function(a,b){return $(a).text().toUpperCase().localeCompare($(b).text().toUpperCase());});$.each(listitems,function(idx,itm){mylist.append(itm);});$(document).ready(function(){function replaceS7(){img=$('img[src*="media.napa"]');s7Identifier=["NWM?$Product=GenuinePartsCompany"];$(img).each(function(){imgsrc=this.src;if(imgsrc.indexOf("$Product=")>=0){$(img).css("opacity","0");var newURL=imgsrc.replace(s7Identifier,"");newURL=newURL+"?fmt=jpeg&wid=300&hei=300&qlt=35";}else{if(imgsrc.indexOf("?$thumb$")>=0){$(img).css("opacity","0");var newURL=imgsrc.replace("$thumb$","");}}$(this).attr("src",newURL);$(img).css("opacity","1");});}if($("body").is(".page-newHomePage, .page-dealsPage, .page-newMobileHomePage")){if(!$(".nol-deals-pod").is(".dealsImgPod")){replaceS7();}}});$("input.listing-price-quantity-input").change(function(){console.log($(this).attr("aria-label",$(this).data("aria-label")+": "+$(this).val()));});$("select.listings-view-sort-select").change(function(){$(this).closest("form").submit();});$("#sort_form1 select.pure-input-1").change(function(){$(".ajax-loader").fadeIn();$("select,input").not(this).not($(this).siblings()).prop("disabled",true);this.form.submit();});$("#show-phone-rewards-input").keydown(function(e){var code=e.keyCode||e.which;if(code==13){setTimeout(function(){$("#rewardsPhoneNumber").focus();},50);}});$("#show-phone-rewards-input").on("click",function(){setTimeout(function(){$("#rewardsPhoneNumber").focus();},50);});$("a#show-enroll-rewards").keydown(function(e){var code=e.keyCode||e.which;if(code==13){setTimeout(function(){$("a#show-phone-rewards-input").focus();},50);}});$("a#show-enroll-rewards").on("click",function(){setTimeout(function(){$("a#show-phone-rewards-input").focus();},50);});$(document).ready(function(){$("div").each(function(){if(($(this).hasClass("nol-deals-pod")&&$(this).hasClass("nol-mobile-row")&&$(this).hasClass("custom-category"))||$(this).hasClass("nol-group-items")){$(this).attr("tabindex","0");}});});$("div.nol-deals-pod.nol-mobile-row.custom-category").keydown(function(e){var code=e.keyCode||e.which;if(code==13){var href=$(this).find("a").attr("href");if(href){window.location=href;}}});$(".nol-deals-pod.nol-mobile-row.custom-category").focusin(function(e){var parent=$(e.target).closest(".owl-stage-outer");var visibilityCheck=carouselImageFullyVisible(e.target,parent);if(typeof visibilityCheck!==typeof undefined&&!visibilityCheck.visible){if(visibilityCheck.translate==="right"){$(".owl-stage").css("transform","translateX(-160px)");}else{$(".owl-stage").css("transform","translateX(160px)");}$(this).one("keydown.owl-keydown",function(e){if(e.which===9){$(".owl-stage").css("transform","");}});$(".owl-dot, .owl-next, .owl-prev").one("click",function(){$(this).off("keydown.owl-keydown");});}});$("div.nol-group-items").keydown(function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();$("div").each(function(){if(($(this).hasClass("nol-deals-pod")&&$(this).hasClass("nol-mobile-row")&&$(this).hasClass("custom-category"))||$(this).hasClass("nol-group-items")){$(this).attr("tabindex","0");}});$("div.owl-item").keydown(function(e){var code=e.keyCode||e.which;if(code==13){var href=$(this).find("a").attr("href");if(href){window.location=href;}}});}});$("input:checkbox").keydown(function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});$(document).ready(function(){$("div.owl-stage-outer").find("div.nol-pod-fixed-height").find("div.nol-product-title").attr("aria-hidden","true");$("div[data-tooltip-trigger").attr("tabindex","0");$("[data-tooltip-trigger]").focusin(function(){$(this).qtip("toggle",true);});$("[data-tooltip-trigger]").focusout(function(){$(this).qtip("toggle",false);});});function adaModal($first,$last,$close){if(typeof $close==="undefined"){$close=".featherlight-close-icon.featherlight-close";}$("div.featherlight-content").attr("role","dialog");$("div.featherlight-content").attr("aria-labelledby","dialog1Title");wireControlGroupListeners($("div.pure-control-group input[data-parsley-required='true'], div.pure-control-group select"));$($first).focus();$($close).attr("tabindex","0");$($last).on("keydown",function(e){if(e.keyCode==9&&!e.shiftKey){e.preventDefault();$($close).get(0).focus();}});$($first).on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();$($close).get(0).focus();}});$($close).on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();$($last).get(0).focus();}});$($close).on("keydown",function(e){if(e.keyCode==13){$($first).off("keydown");$($last).off("keydown");$($close).off("keydown");$($close).click();}});if($("#forgot-password")&&$("#forgot-password").length>0){$("#forgot-password").parsley().on("form:success",function(){$($first).off("keydown");$($last).off("keydown");$($close).off("keydown");});}$("fieldset div.pure-control-group, form div.pure-control-group").not(".preffered-checkbox").each(function(e){var elemId=$(this).find("input").attr("id");var elemLabel=$(this).find("input").attr("title");if(elemId){if(elemLabel){$(this).prepend('<label for="'+elemId+'" class="sr-only" aria-hidden="true">'+elemLabel+"</label>");}else{var labelText=$(this).find("input").attr("title")||$(this).find("input").attr("name")||elemId+"label";$(this).prepend('<label for="'+elemId+'" class="sr-only" aria-hidden="true">'+labelText+"</label>");}}});}function adaDynamicMessage(element,text){$(element).html(text);setTimeout(function(){$(element).html("");},100);}$(".radio-inner").keydown(function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});$(document).ready(function(){$("a").each(function(){if($(this).parent().closest("div").hasClass("banner-pod-img")){$(this).on("focus",function(){$(this).parent().closest("div").css({outline:"2px solid #4763FF","outline-style":"","outline-offset":"2px"});});$(this).on("blur",function(){$(this).parent().closest("div").css("outline","");});}if($(this).hasClass("fill-div")){$(this).on("focus",function(){$("div.cycle-slideshow.ncol-xs-12").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$(this).on("blur",function(){$("div.cycle-slideshow.ncol-xs-12").css("outline","");});}});$("button").each(function(){if($(this).hasClass("slick-prev")||$(this).hasClass("slick-next")){$(this).on("focus",function(){$(this).css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$(this).on("blur",function(){$(this).css("outline","");});}});});$("p.specialty-item-title.h5-to-p-adjustment").attr("aria-hidden","true");$("div.nol-specialty-items-carousel-wrap").attr("tabindex","0");if(window.location.href.indexOf("store-locator")>-1){$("a:contains('customersupport@napaonline.com')").css("text-decoration","underline");}$("a.link.pad-xsv-vrt-lg").on("mouseenter focus",function(){$("div#qtip-0").attr("role","");$(this).attr("aria-label",ACC.alreadyRewardMemberText+" "+ACC.alreadyNapaRewardMemberText);});$("a.link.pad-xsv-vrt-lg").on("mouseleave blur",function(){$("div#qtip-0").attr("role","");});$("input#rewards-enroll-agree").on("focus",function(){$(this).next('label[for="rewards-enroll-agree"]').css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("input#rewards-enroll-agree").on("blur",function(){$(this).next('label[for="rewards-enroll-agree"]').css("outline","none");});$("input#promo-emails-agree").on("focus",function(){$(this).next('label[for="promo-emails-agree"]').css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("input#promo-emails-agree").on("blur",function(){$(this).next('label[for="promo-emails-agree"]').css("outline","none");});$("input#en-lang,input#es-lang").on("focus",function(){$("fieldset.hideFieldsetBox").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("input#en-lang,input#es-lang").on("blur",function(){$("fieldset.hideFieldsetBox").css("outline","none");});$("div.nav-promo-text a").on("focus",function(){$(this).css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("div.nav-promo-text a").on("blur",function(){$(this).css("outline","none");});$(document).ready(function(){setTimeout(function(){$("span.bcText a").on("focus",function(){$('div[id^="0."]').css({outline:"2px solid #ffffff","outline-style":"dotted","outline-offset":"2px"});});$("span.bcText a").on("blur",function(){$('div[id^="0."]').css("outline","none");});},1500);});function adaPlaceholder(){$("input").each(function(){var a=$(this)[0];var x=a.getAttribute("placeholder");if(x!==null){$(this).on("focus",function(){$(this).attr("placeholder","");});$(this).on("blur",function(){$(this).attr("placeholder",x);});}});}adaPlaceholder();function adaAddLabelContent(){$('div.pure-control-group label[for="email"]').text(ACC.placeholderEmailText+"*");}function adaAddLabelContentPasswordChange(){$('div.pure-control-group label[for="CurrentAccountPassword"]').text(ACC.placeholderCurrentPasswordText);}$(document).ready(function(){$("div.my-menu.my-store a").on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});$("a.fill-div,.readmore,.ada-redundant-link").each(function(e){var link="adatxt="+e;if($(this).attr("href").includes("?")){$(this).attr("href",$(this).attr("href")+"&"+link);}else{$(this).attr("href",$(this).attr("href")+"?"+link);}});if($('[id="isLoggedInUser"]').length>1){replaceDuplicateIds("isLoggedInUser");}if($('[id="edit-Text"]').length>1){replaceDuplicateIds("edit-Text");}if($('[id="productUpdatedQty"]').length>1){replaceDuplicateIds("productUpdatedQty");}$(".cart-checkout-paypal").attr("aria-label","paypal").attr("role","text");});function adaModal2($first,$last,$close){if(typeof $close==="undefined"){$close=".featherlight-close-icon.featherlight-close";}$("div.featherlight-content").attr("role","dialog");wireControlGroupListeners($("div.pure-control-group input[data-parsley-required='true'], div.pure-control-group select"));$($close).attr("tabindex","0");$($last).on("keydown",function(e){if(e.keyCode==9&&!e.shiftKey){e.preventDefault();$($close).get(0).focus();}});$($first).on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();$($close).get(0).focus();}});$($close).on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();$($last).get(0).focus();}});$($close).on("keydown",function(e){if(e.keyCode==13){$($first).off("keydown");$($last).off("keydown");$($close).off("keydown");$($close).click();}});if($("#forgot-password")&&$("#forgot-password").length>0){$("#forgot-password").parsley().on("form:success",function(){$($first).off("keydown");$($last).off("keydown");$($close).off("keydown");});}$("fieldset div.pure-control-group, form div.pure-control-group").each(function(e){var elemId=$(this).find("input").attr("id");var elemLabel=$(this).find("input").attr("title");if(elemId&&elemLabel){$(this).prepend('<label for="'+elemId+'" class="sr-only" aria-hidden="true">'+elemLabel+"</label>");}});}$(document).ready(function(){$('a[data-targetselector="#veh-select-saved"]').on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$("div#veh-select-modal").css("display","none");$("div#veh-select-saved").css("display","block");$("span.saved-vehicles a").each(function(){$(this).attr("tabindex","0");});$("a.link-blue:first").focus();}});$('a[data-targetselector="#veh-select-saved"]').on("click",function(e){$("div#veh-select-modal").css("display","none");$("div#veh-select-saved").css("display","block");$("span.saved-vehicles a").each(function(){$(this).attr("tabindex","0");$(this).on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});});$("a.link-blue:first").focus();});});$("div.exact-fit input").on("focus",function(){$("div.exact-fit").css({outline:"2px solid #ffffff","outline-style":"dotted","outline-offset":"2px"});});$("div.universal-fit input").on("focus",function(){$("div.universal-fit").css({outline:"2px solid #ffffff","outline-style":"dotted","outline-offset":"2px"});});function adaModalPDP(){$("a.cns__change-zip").focus();setTimeout(function(){$last=$("button#shopThisStoreId").last();adaModal("a.cns__change-zip",$last,"a.featherlight-close-icon.featherlight-close");},1000);}