function handleVehicleConfirmModal(obj,handler,callback){var needsRefinement=$(obj).data("refine");if(needsRefinement){var erecspecs=$(obj).data("erecspecs");var searchUrl=$(obj).data("searchurl");var url=ACC.config.encodedContextPath+"/cart/confirm-fitment";$.post(url,{eRecSpec:erecspecs,handler:handler,searchUrl:searchUrl},function(response){if(response){var modalData='<div id="napaAddToCart" class="modal featherlight-inner">'+response+"</div>";$.featherlight(modalData,{contentFilters:["html"]});}else{callback();}});}else{callback();}}function getBolPriceAndInventory(obj){var element=$(obj);if(element){var id=element.attr("id");var formId=element.attr("data-erecspecs");var data=$("#form"+formId).serialize();var isProductPage=element.attr("data-productpage");var qty="";if(isProductPage!=undefined&&isProductPage!="undefined"&&isProductPage=="true"){qty=$(".product-qty-input").val();}else{qty=element.closest(".listing-aside").find(".listing-price-quantity-input").val();}if(qty!=undefined&&qty!="undefined"&&qty!=""){data=data+"&qty="+qty;}var url=ACC.config.encodedContextPath+"/p/getBOLPriceAndInventory";$.post(url,data,function(response){var modalData='<div id="modalBOLConfirm'+id+'" class="modal confirmModel">'+response+"</div>";$.featherlight(modalData,{closeIcon:"&#10006",variant:"nol-modal atc-modal nol-ui modal__addtocart",contentFilters:["html"]});});}}$(document).on("keydown",".listing-price-quantity-input",function(e){if(e.keyCode==13){e.preventDefault();}});$(document).on("click",".warranty-pdf",function(e){e.preventDefault();var warrantyId="#"+$(this).attr("data-id");var modalData='<div id="napaWarrantyInformation" class="nol-modal warranty-info">'+$(warrantyId).html()+"</div>";$.featherlight(modalData,{variant:"nol-modal warranty-info",contentFilters:["html"]});});function trimSpaces(str){return str.replace(/ +(?= )/g,"").trim();}$(document).on("click","#pdp-buyer-guide",function(e){e.preventDefault();$sourceElement=$(this);$lineCode=$(this).attr("data-linecode");$partNumber=$(this).attr("data-partnumber");var pid=$(this).attr("pid");var facilityId=window._geo_service_config?window._geo_service_config.defaultStoreFacilityId:"";var baseUrl=window._geo_service_config&&(window._geo_service_config.buyersGuideUrl?window._geo_service_config.buyersGuideUrl:"");var sessionStoreRelations=sessionStorage.getItem("GEO_STORE_"+trimSpaces(facilityId));var storeRelationsDetail=[];if(sessionStoreRelations){storeRelationsDetail=JSON.parse(sessionStoreRelations);}var dc_fq="";if(storeRelationsDetail.length){storeRelationsDetail.map(function(item){if((item.hasOwnProperty("isStoreConsoleInventoryFriend")&&item.isStoreConsoleInventoryFriend===true)||(item.hasOwnProperty("isAnchorStore")&&item.isAnchorStore===true)||(item.hasOwnProperty("isPrimaryDC")&&item.isPrimaryDC===true)){if(item.facilityType==="DC"){dc_fq+=item.facilityId;}}});}var new_dc_fq=dc_fq?('efq=dc:"'+dc_fq+'"'):dc_fq;var domain=((window.location.hostname).toLowerCase().indexOf("napacanada")<0)?"napaonline":"napacanada";var newUrl=baseUrl+"&url="+window.location.href+"&request_type=search&rows=99&start=0&domain_key="+domain+"&search_type=keyword&q=(parent_product_id:"+pid+" OR BR_TS_field_sku:"+pid+")&fl=pid,buyers_guide&"+new_dc_fq;var buyers_guideTxt1=$(this).attr("data-buyersguidetxt");var buyers_noguideTxt=$(this).attr("data-nobuyersguide");var buyers_guideModel=$(this).attr("data-buyersguidemodel");var buyers_guideEngine=$(this).attr("data-buyersguideengine");var buyers_guideMake=$(this).attr("data-buyersguidemake");var buyers_guideYearRange=$(this).attr("data-buyersguideyearrange");var fullStoreNumber=(window._geo_service_config&&window._geo_service_config.store_info_fullStoreNumber)?window._geo_service_config.store_info_fullStoreNumber:"";$.ajax({url:newUrl,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",async:true,crossDomain:true,beforeSend:function(xhr){xhr.setRequestHeader("X-GPC-Service","BUYERS_GUIDE");if(fullStoreNumber&&fullStoreNumber!==""){xhr.setRequestHeader("X-GPC-StoreID","Store"+fullStoreNumber);}},success:function(data){var result="";if(data&&data.response&&data.response.docs&&data.response.docs[0]&&data.response.docs[0].buyers_guide&&data.response.docs[0].buyers_guide.length){var jsonData=data.response.docs[0];var tempData=[];for(var i=0;i<jsonData.buyers_guide.length;i++){var items=JSON.parse(jsonData.buyers_guide[i]);tempData[i]=items;}var data=[];data=tempData;data.sort(function(a,b){return a.value-b.value;});data.sort(function(a,b){var nameA=a.make.toUpperCase();var nameB=b.make.toUpperCase();if(nameA<nameB){return -1;}if(nameA>nameB){return 1;}return 0;});if(jsonData){var trHTML='<div class="header"> </div>';trHTML+='<div class="main-wrapper" ><table class="pdp-modal-table"><thead><tr><th>'+buyers_guideMake+"</th><th>"+buyers_guideModel+"</th><th>"+buyers_guideYearRange+"</th></tr></thead><tbody>";$.each(data,function(i,item){if(item){if(i%2==0){trHTML+='<tr class="even"><td>'+item.make+"</td><td>"+item.model+"</td><td>"+item.start_year+" -"+item.end_year+"</td></tr>";}else{trHTML+='<tr class="odd"><td>'+item.make+"</td><td>"+item.model+"</td><td>"+item.start_year+" -"+item.end_year+"</td></tr>";}}});}trHTML+="</tbody></table></div>";result='<div id="napaBuyersGuide" class="">'+trHTML+"</div>";}else{result='<div id="napaBuyersGuide" class=""><div class="header"></div><div class=""><table class="pdp-modal-table"><tbody><tr><td>'+buyers_noguideTxt+"</td></tr></tbody></table></div></div>";}$(".buyers-guide-content").html(result).find("#napaBuyersGuide").removeClass("modal");}});});$(document).on("click",".buyers-guide-pagination",function(){var sourceEle=$(this);$lineCode=$(this).attr("data-linecode");$partNumber=$(this).attr("data-partnumber");$page=$(this).attr("data-page");$pageSize=$(this).attr("data-pagesize");url=ACC.config.encodedContextPath+"/p/showBuyerGuide";$.ajax({url:url,type:"GET",data:{lineCode:$lineCode,partNumber:$partNumber,page:$page,pageSize:$pageSize,CSRFToken:ACC.config.CSRFToken},dataType:"html",success:function(data){var result=DOMPurify.sanitize(data);$("#napaBuyersGuide").html(result);$(".buyers-guide-content").html($("#napaBuyersGuide").clone(true)).find("#napaBuyersGuide").removeClass("modal");}});});$("body").on("click",".bolAddToCart",function(){var code=$(this).attr("id");var parentDiv=$(this).closest(".confirmModel");var closestDiv=$(this).closest("div.featherlight").find(".featherlight-close-icon");$("form[id=storeConfirmBOLAddToCartForm]").find('input[name="qty"]').val($("form[id=addToCartForm]").find('input[name="qty"]').val());closestDiv.click();var form=$("#storeConfirmBOLAddToCartForm");var data=form.serialize();$.post(ACC.config.encodedContextPath+"/cart/add",data,function(data){var errorMsg=$(data).filter(".addToCartErrormsg").attr("data-errorMsgError");if(errorMsg=="itemsAdded"){updateMiniCart();}closestDiv.click();result='<div id="modalBOLConfirm" class="modal confirmModel">'+data+"</div>";$.featherlight(result,{variant:"nol-modal nol-modal-simple atc-modal",contentFilters:["html"]});},"html");});function productDetailRolClick(obj){var element=$(obj);var id=element.attr("id");var quantity=element.closest("div.product-detail-badge-wrapper").find(".product-qty-input").val();var formid="productDetailAddToCartForm"+id;$("form[id="+formid+"]").find('input[name="qty"]').val(quantity);$.get("${encodedContextPath}/checkDefaultStore",function(response){if(JSON.parse(response).defaultStore=="confirmed"||$(obj).hasClass("productDetailRolClick")){var productDetailsAddToCartform=$("#productDetailAddToCartForm"+id);var data=productDetailsAddToCartform.serialize();$.post("${encodedContextPath}/cart/add",data,function(data){var errorMsg=$(data).filter(".addToCartErrormsg").attr("data-errorMsgError");if(errorMsg=="itemsAdded"){updateMiniCart();}var result='<div id="modalROLConfirm" class="modal confirmModel">'+data+"</div>";$.featherlight(result,{variant:"nol-modal nol-modal-simple1 atc-modal nol-ui modal__addtocart",contentFilters:["html"]});},"html");}else{var result='<div id="napaStoreConfirmModal" class="modal">'+$("div#napaStoreConfirm").html()+"</div>";$.featherlight(result,{variant:"nol-modal store-confirm",contentFilters:["html"]});$("form[id=storeConfirmAddToCartForm]").find('input[name="qty"]').val(quantity);$("#napaStoreConfirmModal").find("#map_canvasROLStoreGroup").attr("id","map_canvasStoreGroup");initializeMapAPI("mapCanvasStoreGroup");}},"json");}$(document).on("click",".rol-store-unavailable----delete",function(e){var that=this;var id=$(this).attr("id");bypassVehicleConfirmModel(this,"#"+id,function(){rolStoreUnavailableClick(that);});});function rolStoreUnavailableClick(obj){var id=$(obj).attr("id");var quantity=$(obj).closest("div.listing-aside").find(".listing-price-quantity-input").val();var formid="addToCartForm"+id;$("form[id="+formid+"]").find('input[name="qty"]').val(quantity);$.get(ACC.config.encodedContextPath+"/checkDefaultStore",{_:$.now()},function(response){if(JSON.parse(response).defaultStore=="confirmed"||$(obj).hasClass("rol-store-unavailable")){var form=$("#addToCartForm"+id);var data=form.serialize();$.post(ACC.config.encodedContextPath+"/cart/add",data,function(data){var errorMsg=$(data).filter(".addToCartErrormsg").attr("data-errorMsgError");if(errorMsg=="itemsAdded"){updateMiniCart();}result='<div id="modalROLConfirm" class="modal confirmModel">'+data+"</div>";$.featherlight(result,{variant:"nol-modal nol-modal-simple atc-modal",contentFilters:["html"]});},"html");}else{var form_data={};$("#form"+id).serializeArray().map(function(x){form_data[x.name]=x.value;});$.ajax({type:"POST",contentType:"application/json",url:ACC.config.encodedContextPath+"/search/rol-confirm-store",data:JSON.stringify(form_data),timeout:100000,success:function(data){var result='<div id="napaStoreConfirmModal" class="modal">'+data+"</div>";$.featherlight(result,{variant:"nol-modal store-confirm",contentFilters:["html"]});$("#napaStoreConfirmModal").find("#map_canvasROLStoreGroup").attr("id","map_canvasStoreGroup");initializeMapAPI("mapCanvasStoreGroup");var storeConfirmformid="storeConfirmAddToCartForm"+id;$("form[id="+storeConfirmformid+"]").find('input[name="qty"]').val(quantity);}});}},"json");}$("body").on("click",".rol-confirm-my-store",function(e){var id=$(this).attr("id");var form=$("#storeConfirmAddToCartForm"+id+"");var data=form.serialize();var closestDiv=$(this).closest("div.featherlight").find(".featherlight-close-icon");$.post(ACC.config.encodedContextPath+"/cart/add",data,function(data){var errorMsg=$(data).filter(".addToCartErrormsg").attr("data-errorMsgError");if(errorMsg=="itemsAdded"){updateMiniCart();}closestDiv.click();result='<div id="modalROLConfirm" class="modal confirmModel">'+data+"</div>";$.featherlight(result,{variant:"nol-modal nol-modal-simple atc-modal",contentFilters:["html"]});},"html");});$("body").on("click",".bol-confirm-my-store",function(e){var form=$("#storeConfirmBOLAddToCartForm");var data=form.serialize();var closestDiv=$(this).closest("div.featherlight").find(".featherlight-close-icon");$.post(ACC.config.encodedContextPath+"/cart/add",data,function(data){var errorMsg=$(data).filter(".addToCartErrormsg").attr("data-errorMsgError");if(errorMsg=="itemsAdded"){updateMiniCart();}closestDiv.click();result='<div id="modalBOLConfirm" class="modal confirmModel">'+data+"</div>";$.featherlight(result,{variant:"nol-modal nol-modal-simple atc-modal",contentFilters:["html"]});},"html");});function updateMiniCart(){$.ajax({dataType:"json",url:$("#cart-panel").attr("data-refreshMiniCartUrl")+Math.floor(Math.random()*101)*(new Date().getTime()),success:function(data){$(".miniCart .my-menu-icon-number").text(data.miniCartCount);$("#cart-panel").attr("data-totalItems",data.miniCartCount);if(!data.miniCartCount||data.miniCartCount==0){$(".miniCart .my-menu-icon-count").addClass("hide");}else{$(".miniCart .my-menu-icon-count").removeClass("hide");}}});}$(document).ready(function(){updateMiniCart();$(".product-listing.checkbox-input").prop("checked",false);$(".product-listing.checkbox-input").removeAttr("disabled");var compare_data=$("#compare-data").html();$(".applied-compare.applied-compare-active").html(compare_data);$(".product-listing.checkbox-input").each(function(index){var status=$(this).attr("data-status");if(status=="true"){$(this).attr("checked",true);}});if($(".applied-compare div.applied-compare-item").length==3){$(".product-listing.checkbox-input:not(:checked)").attr("disabled","disabled");}else{$(".product-listing.checkbox-input").removeAttr("disabled");}$(".product-listing.checkbox-input").change(function(){var appliedCompareDiv=$(".applied-compare");var selectedProductID=$(this).attr("id");var formId=$(this).attr("data-formid");var compareCount=null;var data=$("#form"+formId).serialize();if(this.checked){var selectedProductName=$(this).parents(".listing-item").find(".productTitle").html();var selectedProductImage=$(this).parents(".listing-item").find(".listing-image").html();$.post(ACC.config.encodedContextPath+"/p/addToCompare",data,function(response){});$(appliedCompareDiv).append('<div class="applied-compare-item" id="'+selectedProductID+'"><a href="#" class="applied-compare-remove"><span class="icon-napa-close" aria-label="Remove from compare"></span></a><div class="applied-compare-image-holder"><div class="applied-compare-image">'+selectedProductImage+'</div></div><div class="applied-compare-text-holder"><div class="applied-compare-text">'+selectedProductName+"</div></div></div>");}else{$(appliedCompareDiv).find(".applied-compare-item#"+selectedProductID).remove();$.post(ACC.config.encodedContextPath+"/p/removeFromCompare",data,function(response){});}if($(".applied-compare div.applied-compare-item").length==2){$(".applied-compare-button").css("display","inherit");}else{if($(".applied-compare div.applied-compare-item").length==1){$(".applied-compare-button").css("display","none");}}if($(".applied-compare div.applied-compare-item").length==3){$(".product-listing.checkbox-input:not(:checked)").attr("disabled","disabled");}else{$(".product-listing.checkbox-input").removeAttr("disabled");}});});$(document).on("click",".applied-compare-remove",function(e){e.preventDefault();var removedProductID=$(this).parent(".applied-compare-item").attr("id");var formId=$(".product-listing.checkbox-input#"+removedProductID).attr("data-formid");data=$("#form"+formId).serialize();$.post(ACC.config.encodedContextPath+"/p/removeFromCompareProduct",{removedProductID:removedProductID},function(response){});$(".product-listing.checkbox-input#"+removedProductID).prop("checked",false);$(this).parent(".applied-compare-item").remove();if($(".applied-compare div.applied-compare-item").length==2){$(".applied-compare-button").css("display","inherit");}else{if($(".applied-compare div.applied-compare-item").length==1){$(".applied-compare-button").css("display","none");}}if($(".applied-compare div.applied-compare-item").length==3){$(".product-listing.checkbox-input:not(:checked)").attr("disabled","disabled");}else{$(".product-listing.checkbox-input").removeAttr("disabled");}});$(document).ready(function(){customDropdown();if($(".search form .pure-control-group")){$(".search-typeahead").clone().appendTo($(".search > form"));$(".search form .search-typeahead").width($(".search form .pure-control-group").width());$(".search form .pure-control-group .search-input").on("keydown",function(){});$(".search form .pure-control-group .search-input").on("keyup focus",function(){if($(".search form .search-typeahead-active").length==0){$(".search form .search-typeahead div:first-child").addClass("search-typeahead-active");}$(".search-type-prompt").text("");if($(".search form .pure-control-group .search-input").val().length>0){$(".search form .search-typeahead").fadeIn(150).css("display","inline-block");$("#search_form .search-typeahead").fadeOut(150);if($(".search-type-prompt-noresults").text()==""){$(".search-type-prompt-noresults").text($($(".search form .search-typeahead-active")[0]).find(".search-typeahead-type").text());}}else{$(".search form .search-typeahead").fadeOut(150);$(".search-type-prompt-noresults").text("");}$(".search form .search-typeahead .search-typeahead-option .search-typeahead-term").html($(".search form .pure-control-group .search-input").val());});$(".search form").on("submit",function(e){$(".search-typeahead-option").off("mouseenter mouseleave");$($(".search form .search-typeahead-active")[0]).click();return false;});$(".search form .pure-control-group .search-input").on("keydown",function(event){if(event.keyCode===40||event.keyCode===38){event.preventDefault();}var $menu=$(".search form .search-typeahead .search-typeahead-option");var $prompt=$(".search-type-prompt-noresults");if(event.keyCode===40){moveSearchCursor(1,$menu,$prompt);}else{if(event.keyCode===38){moveSearchCursor(-1,$menu,$prompt);}}});$(".search form .search-typeahead-option").hover(function(e){if($(e.target).hasClass("search-typeahead-option")){$(".search-typeahead-option").removeClass("search-typeahead-active");$(e.target).addClass("search-typeahead-active");$(".search-type-prompt-noresults").text($(e.target).find(".search-typeahead-type").text());}},function(e){if($(e.target).hasClass("search-typeahead-option")&&$(e.target)[0]!=$(".search-typeahead div:first-child")[0]){}});}function moveSearchCursor(offset,$menu,$prompt){var currIndex,newIndex;var qty=$menu.length;$menu.each(function(i,e){if($(e).hasClass("search-typeahead-active")){currIndex=i;}});newIndex=currIndex+offset;if((newIndex)<0){newIndex=qty-1;}if((newIndex)>(qty-1)){newIndex=0;}$($menu[currIndex]).removeClass("search-typeahead-active");$($menu[newIndex]).addClass("search-typeahead-active");$prompt.text($($menu[newIndex]).find(".search-typeahead-type").text());}$(".navigation-search-input").on("keyup focus",function(){if($("#search_form  .search-typeahead-active").length==0){$("#search_form  .search-typeahead div:first-child").addClass("search-typeahead-active");}var searchTerm;$(".search-type-prompt-noresults").text("");if($(".navigation-search-input").val().length>0){$("#search_form > .search-typeahead").fadeIn(150).css("display","inline-block");$(".search > form > .search-typeahead").fadeOut(150);if($(".search-type-prompt").text()==""){$(".search-type-prompt").text($($("#search_form .search-typeahead-active")[0]).find(".search-typeahead-type").text());}}else{$("#search_form > .search-typeahead").fadeOut(150);$(".search-type-prompt").text("");}$(".search-typeahead-term").html($(".navigation-search-input").val());});$(".search-typeahead div:first-child").addClass("search-typeahead-active");$("#search_form .search-typeahead-option").hover(function(e){if($(e.target).hasClass("search-typeahead-option")){$(".search-typeahead-option").removeClass("search-typeahead-active");$(e.target).addClass("search-typeahead-active");$(".search-type-prompt").text($(e.target).find(".search-typeahead-type").text());}},function(e){if($(e.target).hasClass("search-typeahead-option")&&$(e.target)[0]!=$(".search-typeahead div:first-child")[0]){}});$(".navigation-search-input").on("keydown",function(event){if(event.keyCode===40||event.keyCode===38){event.preventDefault();}var $menu=$("#search_form .search-typeahead-option");var $prompt=$(".search-type-prompt");if(event.keyCode===40){moveSearchCursor(1,$menu,$prompt);}else{if(event.keyCode===38){moveSearchCursor(-1,$menu,$prompt);}}});$(".search-product").click(function(e){e.preventDefault();$(".search-typeahead-option").off("mouseenter mouseleave");var formName=$(this).closest("form").attr("name");var textSearch=$("#textSearch").val()||$(this).parent().parent().parent().find("input").val();textSearch=textSearch.replace(/ /g,"+");var searchTextUrl=ACC.config.encodedContextPath+"/search?text="+encodeURIComponent(textSearch.toLowerCase())+"&referer=semantic";window.location.href=searchTextUrl;});$(".search-vehicle").click(function(e){e.preventDefault();$(".search-typeahead-option").off("mouseenter mouseleave");var formName=$(this).closest("form").attr("name");var userDefaultVehicle=$("#user-default-vehicle").attr("data-user-default-vehicle");var vehicleId=$(this).attr("data-vehicle");var formurl=ACC.config.encodedContextPath+"/my-vehicle/make-default-Vehicle/"+vehicleId;var textSearch=$("#textSearch").val()||$(this).parent().parent().parent().find("input").val();textSearch=textSearch.replace(/ /g,"+");$.ajax({url:formurl,type:"GET",success:function(data){if(data=="success"){var searchTextUrl=ACC.config.encodedContextPath+"/search?text="+encodeURIComponent(textSearch)+"&referer="+formName+"-savedveh";window.location.href=searchTextUrl;}}});});$(".mid-exact-fit").click(function(e){$(".exact-fit").click();});$(".exact-fit").click(function(e){e.preventDefault();if($(".exact-fit input:disabled").length){return false;}if($(".exact-fit input").is(":checked")){return false;}$(".exact-fit input").prop("checked","checked");var formName=$(this).closest("form").attr("name");searchKey=$("#sidebarSearchKey").val();if(searchKey!=undefined&&searchKey!=""){searchKey=searchKey.replace(/ /g,"+");}else{searchKey=$(".applied-filter-value").html();searchKey=searchKey.replace(/ /g,"+");}var searchTextUrl=ACC.config.encodedContextPath+"/search?text="+encodeURIComponent(searchKey)+"&referer="+formName+"-exactfit";window.location.href=searchTextUrl;});$(".universal-fit").click(function(e){e.preventDefault();if($(".universal-fit input").is(":checked")){return false;}$(".universal-fit input").prop("checked","checked");var formName=$(this).closest("form").attr("name");var searchKey=$("#sidebarSearchKey").val();searchKey=searchKey.replace(/ /g,"+");var searchTextUrl=ACC.config.encodedContextPath+"/search?text="+encodeURIComponent(searchKey)+"&referer="+formName+"-universal";window.location.href=searchTextUrl;});$(".search-interchange").click(function(e){e.preventDefault();$(".search-typeahead-option").off("mouseenter mouseleave");var formName=$(this).closest("form").attr("name");var textSearch=$("#textSearch").val()||$(this).parent().parent().parent().find("input").val();textSearch=textSearch.replace(/ /g,"+");var searchTextUrl=ACC.config.encodedContextPath+"/search?text="+encodeURIComponent(textSearch)+"&isInterchange=true&referer="+formName+"-interchange";window.location.href=searchTextUrl;});$(".search-type-prompt").click(function(){$("#textSearch").focus();});$(".search-job-add-new-vehicle").click(function(e){e.preventDefault();$(this).attr("data-parts-by-repairtype-click","true");$(".add-new-vehicle").click();});$(document).mouseup(function(e){var container=$(".search-typeahead");if(!container.is(e.target)&&container.has(e.target).length===0&&!$(e.target).is("input")){container.hide();$(".search-type-prompt").text();}});});$("#searchPartsButton").click(function(e){var elem=document.getElementById("nocheckboxselected");if(!$("input.jobTypeFilter:checkbox:checked").length){elem.style.display="block";return false;}else{var refinements="";$("input.jobTypeFilter:checkbox:checked").each(function(){if(refinements==""){refinements=$(this).val();}else{refinements=refinements+"-"+$(this).val();}});}var jobId=$("#jobId").val();var url=$("#endecaQuery").val();var x=encodeURIComponent(url);$("#searchPartsButton").attr("href",ACC.config.encodedContextPath+"/search?q="+x+"&isApplication=true&jobId="+jobId+"&refinements="+refinements+"&isCenterRefSearch=true");$("#searchPartsButton").submit();});$(document).ready(function(){if(!$(".repair-type-chkbox input:checkbox:checked").length){return false;}if($(".applied-conditions.refine").length){var el=$(".applied-conditions.refine");}else{if($('[data-vehicle-panel-conditions="open"]').length){var el=$("div.vehicle-panel-trigger-container");}else{var el=$("#Search");}}var tmpObj={};if($('[data-vehicle-panel-conditions="open"]').length){tmpObj={scrollTop:(el.offset().top-$(".fixed-wrapper").height())};}else{tmpObj={scrollTop:el.offset().top};}$("html, body").animate(tmpObj,500);});function customDropdown(){DropDown.prototype={initEvents:function(){var obj=this;obj.dd.on("click",function(event){$(this).toggleClass("active");return false;});obj.opts.on("click",function(){window.location.href=$(this).find("a").attr("href");var opt=$(this);obj.val=opt.text();obj.index=opt.index();obj.placeholder.text(obj.val);});},getValue:function(){return this.val;},getIndex:function(){return this.index;}};function DropDown(el){this.dd=el;this.placeholder=this.dd.children("span");this.opts=this.dd.find("ul.dropdown-text > li");var path=window.location.pathname;var text="";$(".dropdown-text li a").each(function(){var $anchor=$(this);if($anchor.attr("href")==path){text=$anchor.text();$(this).closest("li").addClass("selected");}});this.placeholder.text(text);this.index=-1;this.initEvents();}$(function(){var dd=new DropDown($("#dd"));$(document).click(function(){$(".wrapper-dropdown").removeClass("active");});});}$("label").on("click",function(e){if($(this).is("[disabled]")){e.preventDefault();e.stopImmediatePropagation();}});$(".partNum").click(function(e){var navData=$(this).data("parttype");console.log(navData);var searchTextUrl=ACC.config.encodedContextPath+"/search?q="+encodeURIComponent(navData)+"&referer=plp";window.location.href=searchTextUrl;});