function getCookie(c_name){try{var c_value=document.cookie,c_start=c_value.indexOf(" "+c_name+"=");if(c_start==-1){c_start=c_value.indexOf(c_name+"=");}if(c_start==-1){c_value=null;}else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);if(c_end==-1){c_end=c_value.length;}c_value=unescape(c_value.substring(c_start,c_end));}return c_value;}catch(err){console.log(err);}}var analytics={cartAdd:{set:function($form,totalItems,orderType,sellingPrice,imageAvailable,shipToHome,storePickupEnabled,isPromo,cost,rank,cartAddType,cartId,RecommendationSource,parentProductID,productHQID,recommendationIndex,currentProductUrl,productSKU,searchPlatform,dcid,productBrand,productPartType,subTotalVal){window.AAData=window.AAData||{};window.AAData.page=window.AAData.page||{};searchPlatform=typeof searchPlatform===typeof undefined?"endeca":searchPlatform;dcid=typeof dcid!==typeof undefined?dcid:"";analytics.cartAdd.event($form,sellingPrice,imageAvailable,shipToHome,storePickupEnabled,isPromo,cost,rank,totalItems,orderType,cartAddType,cartId,RecommendationSource,parentProductID,productHQID,recommendationIndex,currentProductUrl,productSKU,searchPlatform,dcid,productBrand,productPartType,subTotalVal);},event:function($form,sellingPrice,imageAvailable,shipToHome,storePickupEnabled,isPromo,cost,rank,totalItems,_ordType,cartAddType,cartId,RecommendationSource,parentProductID,productHQID,recommendationIndex,currentProductUrl,productSKU,searchPlatform,dcid,productBrand,productPartType,subTotalVal){var miniCartValue=totalItems;var qty=Number($("input[name=qty]",$form).val());var addedItemImgURL=$("input[name=addedItemImgURL]",$form).val()||$("input[name=addedItemImgURL]").val()||"";var addedItemImgURLmodified="";var productImgUrlHost="https://media.napaonline.com/is/image/GenuinePartsCompany/";var productBrand=productBrand;var productPartType=productPartType;if(productBrand===undefined||productPartType===undefined){productBrand=$("input[name=brand]",$form).val();productPartType=$("input[name=partType]",$form).val();}if(addedItemImgURL!==""){var addedItemImgURLsplit=addedItemImgURL.split("/");addedItemImgURLmodified=productImgUrlHost+addedItemImgURLsplit[addedItemImgURLsplit.length-1];}if(_ordType==undefined||_ordType=="undefined"||_ordType==""){_ordType=$("input[name=orderType]",$form).val();}if(analytics.isCanadaSite()){currency="CAD";}else{currency="USD";}var url=new URL(window.location.href);let recomType="";let responseDownStream=localStorage.getItem("gpcDownstreamsystem");if(url&&url.searchParams){let recommSource=url.searchParams.get("r-src");if(recommSource&&responseDownStream!==""&&responseDownStream!=="Bloomreach"){if(RecommendationSource!==undefined&&RecommendationSource.indexOf("Below")!==-1&&recommSource.indexOf("Above")!==-1){recomType=RecommendationSource.replace("BR","Accio");}else{recomType=recommSource.replace("BR","Accio");}if(recommendationIndex===null||recommendationIndex===undefined){recommendationIndex=url.searchParams.get("ir");}}else{if(recommSource&&RecommendationSource===undefined&&recommendationIndex===undefined&&responseDownStream==="Bloomreach"){recomType=recommSource;recommendationIndex=url.searchParams.get("ir");}else{if(recommSource===null&&RecommendationSource!==undefined&&responseDownStream!=="Bloomreach"){recomType=RecommendationSource.replace("BR","Accio");}}}}else{if(responseDownStream!==""&&responseDownStream!=="Bloomreach"){recomType=RecommendationSource?RecommendationSource.replace("BR","Accio"):"";}}console.log("analyticsForAccio",RecommendationSource,recommendationIndex,url);const cartData=localStorage.getItem("cartItems");let dta=[];if(cartData){try{dta=JSON.parse(localStorage.getItem("cartItems"));}catch(err){}}let items=[];if(dta&&dta.length){if(window._geo_service_config&&window._geo_service_config.enableAddtocartCartlistAnalytics==="true"){var partId=$("input[name=lineAbbr]",$form).val()+$("input[name=partNumber]",$form).val();var newItem=null;for(var i=0;i<dta.length;i++){if(dta[i].productID===partId){newItem=dta[i];break;}}if(newItem&&newItem.hasOwnProperty("productID")){newItem.Quantity+=qty;newItem.RowTotal=sellingPrice*newItem.Quantity;items=dta;}else{dta.push({Quantity:qty,RowTotal:sellingPrice*qty,SellingPrice:sellingPrice,addedItemImgURL:addedItemImgURLmodified,addedItemURL:currentProductUrl?currentProductUrl:"",addeditemName:$("input[name=description]",$form).val()||"",addeditemSKU:productSKU?productSKU:"",cartId:cartId,productHQID:productHQID?productHQID:"",productID:$("input[name=lineAbbr]",$form).val()+$("input[name=partNumber]",$form).val(),productBrand:productBrand,productCategories:productPartType?productPartType.split(","):[]});items=dta;}}}else{if(window._geo_service_config&&window._geo_service_config.enableAddtocartCartlistAnalytics==="true"){items=[{Quantity:qty,RowTotal:sellingPrice*qty,SellingPrice:sellingPrice,addedItemImgURL:addedItemImgURLmodified,addedItemURL:currentProductUrl?currentProductUrl:"",addeditemName:$("input[name=description]",$form).val()||"",addeditemSKU:productSKU?productSKU:"",cartId:cartId,productHQID:productHQID?productHQID:"",productID:$("input[name=lineAbbr]",$form).val()+$("input[name=partNumber]",$form).val(),productBrand:productBrand,productCategories:productPartType?productPartType.split(","):[]}];}}if(productBrand===null||productPartType===undefined){productBrand=$("input[name=brand]",$form).val();productPartType=$("input[name=partType]",$form).val();}var ddAddToCartEvent={eventInfo:{eventName:"addToCart",type:miniCartValue!=="0"?"cart add":"cart add open",timeStamp:new Date(),processed:{adobeAnalytics:false}},product:[{productInfo:{productID:$("input[name=lineAbbr]",$form).val()+$("input[name=partNumber]",$form).val(),currency:currency,currency:"USD",dcID:dcid,recommendationSource:recomType!=""?recomType:RecommendationSource?RecommendationSource:"",cartAddType:cartAddType?cartAddType:"",cartId:cartId,parentProductID:parentProductID?parentProductID:"",sellingPrice:sellingPrice,quantity:qty,fulfillmentMethod:_ordType,storePickupEnabled:storePickupEnabled,shipToHome:shipToHome,imageAvailable:imageAvailable,addToCartButtonDisabled:"No",isPromo:isPromo,addedItemImgURL:addedItemImgURLmodified,plpImpressionRank:rank,productHQID:productHQID?productHQID:"",recommendationRank:recommendationIndex?recommendationIndex:"",searchPlatform:searchPlatform,addeditemSKU:productSKU?productSKU:"",addedItemURL:currentProductUrl?currentProductUrl:"",addeditemName:$("input[name=description]",$form).val()||"",productBrand:productBrand,productCategories:productPartType?productPartType.split(","):[],"sub-total":subTotalVal}}]};if(analytics.isCanadaSite()){const userProfileLanguage=localStorage.getItem("userProfileLanguage");var userStatus=localStorage.getItem("userStatus");if(userProfileLanguage&&userStatus==="signedIn"){ddAddToCartEvent.eventInfo.language=userProfileLanguage;}else{ddAddToCartEvent.eventInfo.language=window._geo_service_config.locale;}}if(window._geo_service_config&&window._geo_service_config.enableAddtocartCartlistAnalytics==="true"){ddAddToCartEvent.items=items;localStorage.setItem("cartItems",JSON.stringify(items));}let params=(new URL(document.location)).searchParams;let eventsource=params.get("eventsource");if(eventsource&&eventsource==="curated_product_page"){ddAddToCartEvent.eventInfo.eventsource="Curated pages";}const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){ddAddToCartEvent.product[0].productInfo.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddAddToCartEvent);analytics.sendCustomEvent("addToCart");}},ddQuickView:{set:function($form,dcid,cartAddType,RecommendationSource,parentProductID,productHQID,searchPlatform,productBrand,productpartType){window.AAData=window.AAData||{};window.AAData.page=window.AAData.page||{};analytics.ddQuickView.event($form,dcid,cartAddType,RecommendationSource,parentProductID,productHQID,searchPlatform,productBrand,productpartType);},event:function($form,dcid,cartAddType,RecommendationSource,parentProductID,productHQID,searchPlatform,productBrand,productpartType){ddQuickViewEvent={eventInfo:{eventName:"quickView",type:"cart",timeStamp:new Date(),processed:{adobeAnalytics:false}},product:[{productInfo:{productID:$("input[name=lineAbbr]",$form).val()+$("input[name=partNumber]",$form).val(),dcID:dcid,cartAddType:cartAddType?cartAddType:"",recommendationSource:RecommendationSource?RecommendationSource:"",parentProductID:parentProductID?parentProductID:"",productHQID:productHQID?productHQID:productHQID,searchPlatform:searchPlatform}}]};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddQuickViewEvent);analytics.sendCustomEvent("quickView");}},removeCartItem:function($form,itemPrice,orderType){var fulfillment="";var qty=Number($("input[name=quantity]",$form).val());var productCode=$("input[name=productCode]",$form).val().replace("_","");if((orderType&&orderType.indexOf("rol")>-1)){fulfillment="rol";}else{if(orderType&&orderType.indexOf("bol")>-1){fulfillment="bol";}}if(analytics.isCanadaSite()){currency="CAD";}else{currency="USD";}var ddRemoveFromCartEvent={eventInfo:{eventName:"removeFromCart",type:"cart remove",timeStamp:new Date(),processed:{adobeAnalytics:false}},product:[{productInfo:{productID:productCode,currency:currency,sellingPrice:Number(itemPrice.replace("$",""))/qty,quantity:qty,fulfillmentMethod:fulfillment}}]};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRemoveFromCartEvent);analytics.sendCustomEvent("removeFromCart");var totEvent=window.AAData.event;totEvent=totEvent.reverse();var updatedCartArr=[];let cartItemsSessionData=[];try{if(window._geo_service_config&&window._geo_service_config.enableAddtocartCartlistAnalytics==="true"){const cartItems=localStorage.getItem("cartItems");if(cartItems){cartItemsSessionData=JSON.parse(localStorage.getItem("cartItems"));for(var j=0;j<cartItemsSessionData.length;j++){if(cartItemsSessionData[j].productID!==productCode){updatedCartArr.push(cartItemsSessionData[j]);}}localStorage.setItem("cartItems",JSON.stringify(updatedCartArr));}}}catch(err){}},updateCartFulfillment:function($form,itemPrice,orderType){var fulfilment="";var qty=Number($("input[name=quantity]",$form).val());var productCode=$("input[name=productCode]",$form).val().replace("_","");if(orderType&&orderType.indexOf("rol")>-1){fulfillment="rol";}else{if(orderType&&orderType.indexOf("bol")>-1){fulfillment="bol";}}var ddCartFullfilmentOptionEvent={eventInfo:{eventName:"cartFullfilmentOption",type:"cart",timeStamp:new Date(),processed:{adobeAnalytics:false}},product:[{productInfo:{productID:productCode,currency:"USD",sellingPrice:Number(itemPrice.replace("$",""))/qty,fulfillmentMethod:fulfillment}}]};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddCartFullfilmentOptionEvent);analytics.sendCustomEvent("cartFullfilmentOption");},sendCustomEvent:function(evt){try{if(document.createEvent&&document.body.dispatchEvent){var event=document.createEvent("Event");event.initEvent(evt,true,true);document.body.dispatchEvent(event);}else{if(window.CustomEvent&&document.body.dispatchEvent){var event=new CustomEvent(evt,{bubbles:true,cancelable:true});document.body.dispatchEvent(event);}}}catch(e){console.log("analytics error");}},paymentEvent:function(){var ddPaymentStepEvent={eventInfo:{eventName:"paymentStep",type:"payment details",pageName:"checkout: payment details",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddPaymentStepEvent);analytics.sendCustomEvent("paymentStep");},orderReviewStepEvent:function(){var ddOrderReviewStepEvent={eventInfo:{eventName:"orderReview",type:"order review",pageName:"checkout: order review",timeStamp:new Date(),processed:{adobeAnalytics:false}}};AAData.pageName="checkout: review order";window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddOrderReviewStepEvent);analytics.sendCustomEvent("orderReview");},isCanadaSite:function(){return window.location.origin.indexOf("napacanada")!=-1;},repairPal:{pageLoad:function(){window.AAData=window.AAData||{};AAData.pageName="repair pal: start estimate";},reviewEstimate:function(){AAData.pageName="repair pal: review estimate";},findAutoCareCenter:function(){var ddRepairPalFind={eventInfo:{eventName:"repairPalFind",type:"repair pal",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRepairPalFind);analytics.sendCustomEvent("repairPalFind");},getEstimate:function(){var ddRepairPalEstimate={eventInfo:{eventName:"repairPalEstimate",type:"repair pal",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRepairPalEstimate);analytics.sendCustomEvent("repairPalEstimate");},selectEvt:function(){var ddRepairPalSelect={eventInfo:{eventName:"repairPalSelect",type:"repair pal",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRepairPalSelect);analytics.sendCustomEvent("repairPalSelect");}},storeFinder:{modalOpen:function(tabName,pageName,aaSearchInfo){var ddStoreLocatorPopupEvent={eventInfo:{eventName:"storeLocatorPopupOpens",type:"NOL store",timeStamp:new Date(),processed:{adobeAnalytics:false}},popupInfo:{tabSelected:tabName?tabName.toUpperCase():"STORE",pageName:pageName,totalStoreCount:aaSearchInfo.searchResultCount,storeResults:aaSearchInfo.StoreDetails}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddStoreLocatorPopupEvent);analytics.sendCustomEvent("storeLocatorPopupOpens");},storeLocatorSearch:function(aaSearchInfo){var ddStoreLocatorSearchEvent={eventInfo:{eventName:"storeLocatorSearch",type:"NOL store",timeStamp:new Date(),processed:{adobeAnalytics:false}},searchInfo:aaSearchInfo};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddStoreLocatorSearchEvent);analytics.sendCustomEvent("storeLocatorSearch");},storeLocatorClickTrackEvent:function(clicked,aaSearchInfo){var ddLocatorClickTrackEvent={eventInfo:{eventName:"StoreLocatorClickTrack",type:"NOL store",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{clickedOn:clicked,totalStoreCount:aaSearchInfo.searchResultCount,storeResults:aaSearchInfo.StoreDetails}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddLocatorClickTrackEvent);analytics.sendCustomEvent("StoreLocatorClickTrack");},storeSpecificClickTracks:function(storeID,clickedFor,positionNumber,searchTerm,searchCategory){var ddStoreLocatorClicksTrackEvent={eventInfo:{eventName:"StoreSpecificClickTracks",type:"NOL store",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{StoreID:storeID,clickedFor:clickedFor,positionNumber:positionNumber,searchTerm:searchTerm?searchTerm:"",searchCategory:searchCategory?searchCategory:""}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddStoreLocatorClicksTrackEvent);analytics.sendCustomEvent("StoreSpecificClickTracks");}},autocareFinder:{autocareLocatorPopupOpens:function(popupinfo){var AutocareLocatorPopupEvent={eventInfo:{eventName:"AutocareLocatorPopupOpens",type:"NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},popupInfo:popupinfo};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareLocatorPopupEvent);analytics.sendCustomEvent("AutocareLocatorPopupOpens");},autocareLocatorSearch:function(searchInfo){var AutocareLocatorSearchEvent={eventInfo:{eventName:"AutocareLocatorSearch",type:"NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},searchInfo:searchInfo};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareLocatorSearchEvent);analytics.sendCustomEvent("AutocareLocatorSearch");},autocareLocatorClickTrackEvent:function(clickedOn){var AutocareLocatorClickTrackEvent={eventInfo:{eventName:"AutocareLocatorClickTrack",type:"NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{clickedOn:clickedOn}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareLocatorClickTrackEvent);analytics.sendCustomEvent("AutocareLocatorClickTrack");},autocareSpecificClicksEvent:function(trackinfo){var AutocareSpecificClicksEvent={eventInfo:{eventName:"AutocareSpecificClickTracks",type:" NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{facilityID:trackinfo.facilityID,positionNumber:trackinfo.positionNumber,tabSelected:"Auto Care",clickedFor:trackinfo.clickedFor,ratingDetail:{yelpRating:trackinfo.yelpRating,googleRating:trackinfo.googleRating},badgesDisplayed:trackinfo.badgesDisplayed,searchTerm:trackinfo.searchTerm?trackinfo.searchTerm:"",searchCategory:trackinfo.searchCategory?trackinfo.searchCategory:""}};if(trackinfo.badgeName!==null){AutocareSpecificClicksEvent.clickTrackInfo.badgeName=trackinfo.badgeName;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareSpecificClicksEvent);analytics.sendCustomEvent("AutocareSpecificClickTracks");},autocareStoreDetailClicksTrackEvent:function(trackinfo){var AutocareClicksTrackEvent={eventInfo:{eventName:"AutocarePageClickTracks",type:" NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{facilityID:trackinfo.facilityID,facilityName:trackinfo.facilityName,clickedOn:trackinfo.clickedFor}};if(trackinfo.badgeName!==null){AutocareClicksTrackEvent.clickTrackInfo.badgeName=trackinfo.badgeName;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareClicksTrackEvent);analytics.sendCustomEvent("AutocarePageClickTracks");},autocareSeemoreShopsTrackEvent:function(trackinfo){var AutocareSeeMoreShopEvent={eventInfo:{eventName:"AutocareSeeMoreShops",type:"NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{tabSelected:"Auto Care",clickedOn:"See more Shops",autocareType:trackinfo.searchedFor,searchedBy:trackinfo.searchedBy,selectedMiles:trackinfo.selectedMiles,totalFacilityCount:trackinfo.searchResultCount,storeDetails:trackinfo.searchResults}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocareSeeMoreShopEvent);analytics.sendCustomEvent("AutocareSeeMoreShops");},autocareDetailPageTrackEvent:function(trackinfo){var AutocarePageLoadTrackEvent={eventInfo:{eventName:"AutocarePageLoadTrack",type:"NOL Autocare",timeStamp:new Date(),processed:{adobeAnalytics:false}},pageTrackInfo:{facilityID:trackinfo.facilityid,facilityName:trackinfo.facilityName,refferringFrom:trackinfo.refferringFrom,hostingPlatform:"NOL",ratingDetail:{yelpRating:trackinfo.yelpRating,googleRating:trackinfo.googleRating},badgesDisplayed:trackinfo.badgesDisplayed}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(AutocarePageLoadTrackEvent);analytics.sendCustomEvent("AutocarePageLoadTrack");}},ClickedImage360:{threeSixtyImageTrackEvent:function(trackclick){var ddClickedImage360Event={eventInfo:{eventName:"clickedImage360",type:"PDP",timeStamp:new Date(),processed:{adobeAnalytics:false}},productInfo:{productId:trackclick}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddClickedImage360Event);analytics.sendCustomEvent("clickedImage360");}},partType:{partTypeTrackEvent:function(name,rank,bucket){var ddPartTypeTrackEvent={eventInfo:{eventName:"partTypeTrack",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},partTypeInfo:{partTypeName:name,impressionRank:rank,partTypeBucket:bucket}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddPartTypeTrackEvent);analytics.sendCustomEvent("partTypeTrack");}},ClickedVideo360:{videoGalleryTrackEvent:function(trackclick){var ddClickedVideo360Event={eventInfo:{eventName:"clickedVideo360",type:"cart",timeStamp:new Date(),processed:{adobeAnalytics:false}},productInfo:{productId:trackclick}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddClickedVideo360Event);analytics.sendCustomEvent("clickedVideo360");}},SearchEvent:{SearchEventTrackEvent:function(searchclick,dcID,isBr,actualText,index){searchPlatform=typeof isBr===typeof undefined?"endeca":"bloomreach";dc_ID=typeof dcID!==typeof undefined?dcID:"";actualText=typeof actualText!==typeof undefined?actualText:"";var ddSearchBREvent={eventInfo:{eventName:"searchBREvent",type:"search",dcID:dc_ID,timeStamp:new Date(),processed:{adobeAnalytics:false}},searchInfo:{actualText:actualText,searchTerm:searchclick,searchPlatform:searchPlatform}};if(index!==null&&index!==undefined&&index!==""){if(index===-1){ddSearchBREvent.suggestTermPosition="";}else{ddSearchBREvent.suggestTermPosition=index;}}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSearchBREvent);analytics.sendCustomEvent("searchBREvent");console.log("Analytics Search Event fired now.");},SearchBRPaginationEvent:function(productDetails,metadata){productDetails.cognitiveSearcher=metadata;var ddBRPaginationEvent={eventInfo:{eventName:"BRPaginationEvent",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},productDetails:productDetails};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddBRPaginationEvent);analytics.sendCustomEvent("BRPaginationEvent");},SearchNRFsearchevent:function(){var ddNRFsearchevent={eventInfo:{eventName:"NRFsearchevent",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddNRFsearchevent);analytics.sendCustomEvent("NRFsearchevent");setTimeout(function(){try{if(_satellite){_satellite.track("NRFSearchEventfirst");}}catch(e){console.log("Initial NRFSearchEvent could not be found",e);}},3000);},SearchBRSubsequentSearchEvent:function(productDetails,metadata){productDetails.cognitiveSearcher=metadata;var ddBRSubsequentSearchEvent={eventInfo:{eventName:"BRSubsequentSearchEvent",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},productDetails:productDetails};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddBRSubsequentSearchEvent);analytics.sendCustomEvent("BRSubsequentSearchEvent");}},vehicleSuccessfullClick:{vehicleApplicationClickEvent:function(){var vClicksTrackEvent={eventInfo:{eventName:"vehicleapplication",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(vClicksTrackEvent);analytics.sendCustomEvent("vehicleapplication");}},vehicleSearchByVinClick:{vehicleSearchByVinEvent:function(valid){window.AAData.searchByVIN=valid?"found":"notFound";}},storePageDetail:{pageDetailLoadEvent:function(pageType){var pageClicksTrackEvent={eventInfo:{eventName:"storePageType",type:pageType,timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(pageClicksTrackEvent);analytics.sendCustomEvent("storePageType");}},SuggestEvent:{SuggestEventTrackEvent:function(usertext,suggestedtext,index){var ddsuggestBREvent={eventInfo:{eventName:"suggestBREvent",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},searchInfo:{actualText:usertext,PartSearchTerm:usertext,PartSuggestedTerm:suggestedtext}};if(index!==null&&index!==undefined&&index!==""){ddsuggestBREvent.suggestTermPosition=index;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddsuggestBREvent);analytics.sendCustomEvent("suggestBREvent");}},AddToCartModal:{AddToCartModalTrackEvent:function(totalProducts,parentProductId,recommendationType,productImpressions){var ddAddToCartModalEvent={eventInfo:{eventName:"addToCartModal",type:"Cart",timeStamp:new Date(),processed:{adobeAnalytics:false}},recommendationProducts:{totalProducts:totalProducts,parentProductId:parentProductId?parentProductId:"",recommendationType:recommendationType?recommendationType:"BR:Recommended items:ATC",productImpressions:productImpressions}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddAddToCartModalEvent);analytics.sendCustomEvent("addToCartModal");}},recommendationImpressions:{RecommendationEvent:function(totalProducts,parentProductId,sseRecommendationType,productImpressions){let responseDownStream=localStorage.getItem("gpcDownstreamsystem");let recomSource=sseRecommendationType.replace("BR","Accio");let pdpRecommSource=window.AAData.recommendationSource?window.AAData.recommendationSource.replace("BR","Accio"):"";if(sseRecommendationType&&responseDownStream!==""&&responseDownStream!=="Bloomreach"){sseRecommendationType=recomSource;if(window.AAData.recommendationSource&&pdpRecommSource!=""){window.AAData.recommendationSource=pdpRecommSource;}}console.log(sseRecommendationType,"type");var ddRecommendationEvent={eventInfo:{eventName:sseRecommendationType.indexOf("SP")!==-1?"SP:recommendationImpressions":"recommendationImpressions",type:"PDP",timeStamp:new Date(),processed:{adobeAnalytics:false}},recommendationProducts:{totalProducts:totalProducts,parentProductId:parentProductId?parentProductId:"",recommendationType:sseRecommendationType?sseRecommendationType:"SSE:PDP",productImpressions:productImpressions}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRecommendationEvent);analytics.sendCustomEvent("recommendationImpressions");}},BRrecommendationImpressions:{RecommendationEvent:function(totalProducts,parentProductId,RecommendationType,productImpressions){console.log(RecommendationType,"BR");var ddRecommendationEvent={eventInfo:{eventName:"BRrecommendationImpressions",type:"PDP",timeStamp:new Date(),processed:{adobeAnalytics:false}},recommendationProducts:{totalProducts:totalProducts,parentProductId:parentProductId?parentProductId:"",recommendationType:RecommendationType?RecommendationType:"BR:PDP",productImpressions:productImpressions}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRecommendationEvent);analytics.sendCustomEvent("BRrecommendationImpressions");}},bestSellersImpressions:{RecommendationEvent:function(totalProducts,parentProductId,RecommendationType,productImpressions){console.log(RecommendationType,"HPBS");var ddRecommendationEvent={eventInfo:{eventName:"HPrecommendationImpressions",type:"HP",timeStamp:new Date(),processed:{adobeAnalytics:true}},recommendationProducts:{totalProducts:totalProducts,recommendationType:RecommendationType?RecommendationType:"HP:BS",productImpressions:productImpressions}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddRecommendationEvent);analytics.sendCustomEvent("HPrecommendationImpressions");}},CheckoutPageStepOne:{checkoutNowEvent:function(){if(window._geo_service_config.enableAnalyticsCheckoutPageCartId==="true"){if(document.getElementById("nolCartId").value!==""&&document.getElementById("nolCartId").value!==null&&document.getElementById("nolCartId").value!==undefined){window.AAData.cartId=document.getElementById("nolCartId").value;}}var checkoutTrackstartEvent={eventInfo:{eventName:"checkoutTrackstart",type:"checkout",timeStamp:new Date(),processed:{adobeAnalytics:false}},product:{cartVal:window.AAData.cart.cartVal,itemNames:window.AAData.cart.itemNames,items:window.AAData.cart.item}};var productImgUrlHost="https://media.napaonline.com/is/image/GenuinePartsCompany/";var addedItemImgURLmodified="";window.AAData.cart.item.forEach(function(item,index){if(item.addedItemImgURL!==""){var addedItemImgURLsplit=item.addedItemImgURL.split("/");addedItemImgURLmodified=productImgUrlHost+addedItemImgURLsplit[addedItemImgURLsplit.length-1];window.AAData.cart.item[index].addedItemImgURL=addedItemImgURLmodified;window.AAData.cart.item[index].productCategories=window.AAData.cart.item[index].productCategories?window.AAData.cart.item[index].productCategories.replace("[","").replace("]","").split(","):[];}});if(analytics.isCanadaSite()){const userProfileLanguage=localStorage.getItem("userProfileLanguage");var userStatus=localStorage.getItem("userStatus");if(userProfileLanguage&&userStatus==="signedIn"){checkoutTrackstartEvent.eventInfo.language=userProfileLanguage;}else{checkoutTrackstartEvent.eventInfo.language=window._geo_service_config.locale;}}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(checkoutTrackstartEvent);analytics.sendCustomEvent("checkoutTrackstart");setTimeout(function(){try{if(_satellite){_satellite.track("checkout_trackstart");}}catch(e){console.log("satellite checkout_trackstart could not be found",e);}},3000);},CartcheckoutEvent:function(){var Cartcheckoutv={eventInfo:{eventName:"Cartcheckout",type:"checkout",timeStamp:new Date(),processed:{adobeAnalytics:false}}};const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){window.AAData.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(Cartcheckoutv);analytics.sendCustomEvent("Cartcheckout");}},categoryLandingPages:{categoryPageTrackEvent:function(categoryPageInfo){var ddCategoryPageTrackEvent={eventInfo:{eventName:"categoryPageTrack",timeStamp:new Date(),processed:{adobeAnalytics:false}},categoryPageInfo:categoryPageInfo};const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){window.AAData.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddCategoryPageTrackEvent);analytics.sendCustomEvent("categoryPageTrack");},partTypeInfoTrackEvent:function(partTypeInfo){var ddPartTypeClickTrackEvent={eventInfo:{eventName:"partTypeClickTrack",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},partTypeInfo:partTypeInfo};const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){window.AAData.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddPartTypeClickTrackEvent);analytics.sendCustomEvent("partTypeClickTrack");},partTypeLoadEvent:function(partTypeInfo){var ddPartTypeLoadEvent={eventInfo:{eventName:"partTypeLoadTrack",type:"search",timeStamp:new Date(),processed:{adobeAnalytics:false}},partTypeInfo:partTypeInfo};const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){window.AAData.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddPartTypeLoadEvent);analytics.sendCustomEvent("partTypeLoadTrack");}},productDetailPage:{priceInventoryUpdateEvent:function(productDetails){let params=(new URL(document.location)).searchParams;let eventsource=params.get("eventsource");var addedItemImgURL=window.AAData.itemImgURL;var addedItemImgURLmodified="";var productImgUrlHost="https://media.napaonline.com/is/image/GenuinePartsCompany/";if(addedItemImgURL!==""){var addedItemImgURLsplit=addedItemImgURL.split("/");addedItemImgURLmodified=productImgUrlHost+addedItemImgURLsplit[addedItemImgURLsplit.length-1];}window.AAData.itemImgURL=addedItemImgURLmodified;var ddBRProductDetailEvent={eventInfo:{eventName:"BRProductDetailEvent",type:"pdp",timeStamp:new Date(),processed:{adobeAnalytics:false}},productDetails:productDetails};if(analytics.isCanadaSite()){const userProfileLanguage=localStorage.getItem("userProfileLanguage");var userStatus=localStorage.getItem("userStatus");if(userProfileLanguage&&userStatus==="signedIn"){ddBRProductDetailEvent.eventInfo.language=userProfileLanguage;}else{ddBRProductDetailEvent.eventInfo.language=window._geo_service_config.locale;}}if(eventsource&&eventsource==="curated_product_page"){ddBRProductDetailEvent.eventInfo.eventsource="Curated pages";}const attributionToken=getCookie("attribution_token");if(window._geo_service_config.enableGoogleRetailAttributionToken==="true"&&attributionToken){window.AAData.attributionToken=attributionToken;}window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddBRProductDetailEvent);analytics.sendCustomEvent("BRProductDetailEvent");}},smsSignupClick:{signupClicksEvent:function(url,location,pageName){var ddSMSSignupClicks={eventInfo:{eventName:"smsSignupClick",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{location:location,pageInfo:{pageName:pageName,url:url}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupClicks);analytics.sendCustomEvent("smsSignupClick");},signupCheckboxClicksEvent:function(typeOfchecked){var ddSMSSignupClicks={eventInfo:{eventName:"smsSignupClick",choice:typeOfchecked,timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupClicks);analytics.sendCustomEvent("smsSignupClick");},smsPlaceholderFinalStepEvent:function(){var ddSMSSignupTrack={eventInfo:{eventName:"smsSignup",timeStamp:new Date(),processed:{adobeAnalytics:false}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupTrack);analytics.sendCustomEvent("smsSignup");}},smsSignup:{smsSignupEvent:function(url,location,pageName){var ddSMSSignupTrack={eventInfo:{eventName:"smsSignup",timeStamp:new Date(),processed:{adobeAnalytics:false}},signupInfo:{location:location,pageInfo:{pageName:pageName,url:url}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupTrack);analytics.sendCustomEvent("smsSignup");}},smsTrackClick:{smsTrackClickEvent:function(){var ddSMSSignupClick={eventInfo:{eventName:"smsSignupClick",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{TrackClick:"Track BOPIS Order"}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupClick);analytics.sendCustomEvent("smsSignupClick");}},smsTrackClickSuccess:{smsTrackClickSuccessEvent:function(){var ddSMSSignupTrack={eventInfo:{eventName:"smsSignup",timeStamp:new Date(),processed:{adobeAnalytics:false}},signupInfo:{SignUpClick:"Track BOPIS Order"}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddSMSSignupTrack);analytics.sendCustomEvent("smsSignup");}},widgetView:{widgetViewEvent:function(wrid,wid,wq,wty){var ddwidgetViewEvent={eventInfo:{eventName:"brWidgetView",timeStamp:new Date(),processed:{adobeAnalytics:false}},widgetInfo:{brPixelData:{wrid:wrid,wid:wid,wq:wq,wty:wty}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddwidgetViewEvent);analytics.sendCustomEvent("brWidgetView");}},widgetClick:{WdigetClickEvent:function(wrid,wid,wq,wty,item_id){var ddWdigetClickEvent={eventInfo:{eventName:"brWidgetClicks",timeStamp:new Date(),processed:{adobeAnalytics:false}},clickTrackInfo:{brPixelData:{wrid:wrid,wid:wid,wq:wq,wty:wty,item_id:item_id}}};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(ddWdigetClickEvent);analytics.sendCustomEvent("brWidgetClicks");}},carouselClick:{carouselClickEvent:function(item_id,parentProductID,sellingPrice,recommendationIndex,recommendationSource){let currency="USD";if(analytics.isCanadaSite()){currency="CAD";}var url=new URL(window.location.href);let recomType="";let responseDownStream=localStorage.getItem("gpcDownstreamsystem");if(url&&url.searchParams){let recommSource=url.searchParams.get("r-src");if(recommSource&&responseDownStream!==""&&responseDownStream!=="Bloomreach"){recomType=recommSource.replace("BR","Accio");if(recommendationIndex===null||recommendationIndex===undefined){recommendationIndex=url.searchParams.get("ir");}}}else{if(responseDownStream!==""&&responseDownStream!=="Bloomreach"){recomType=recommendationSource?recommendationSource.replace("BR","Accio"):"";}}const recommendedItemDetails={eventInfo:{eventName:"recommendationclick",timeStamp:new Date(),type:"PDP",processed:{adobeAnalytics:false}},product:[{productInfo:{productID:item_id,currency:currency,recommendationSource:recomType!=""?recomType:recommendationSource?recommendationSource:"",parentProductID:parentProductID,sellingPrice:sellingPrice,addToCartButtonDisabled:"No",productHQID:item_id,recommendationRank:recommendationIndex?recommendationIndex:"",searchPlatform:"bloomreach"}}]};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(recommendedItemDetails);analytics.sendCustomEvent("recommendationclick");}},homepageCarousel:{carouselClickEvent:function(item_id,recommendationIndex,recommendationSource){const recommendedItemDetails={eventInfo:{eventName:"recommendationclick"},product:[{productInfo:{productID:item_id,recommendationSource:recommendationSource,productHQID:item_id,recommendationRank:recommendationIndex?recommendationIndex:"",searchPlatform:"bloomreach"}}]};window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];window.AAData.event.push(recommendedItemDetails);analytics.sendCustomEvent("recommendationclick");}},klaviyoTrackEvent:{idleTimeForPLPPage:function(data){window.AAData=window.AAData||{};window.AAData.event=window.AAData.event||[];function getBrowserName(){const userAgent=navigator.userAgent;if(userAgent.includes("Edg")){return"Microsoft Edge";}else{if(userAgent.includes("Chrome")){return"Chrome";}else{if(userAgent.includes("Firefox")){return"Firefox";}else{if(userAgent.includes("Safari")&&!userAgent.includes("Chrome")){return"Safari";}else{if(userAgent.includes("Opera")||userAgent.includes("OPR")){return"Opera";}else{if(userAgent.includes("Trident")||userAgent.includes("MSIE")){return"Internet Explorer";}else{return"Unknown";}}}}}}}var plpCat="";if(data.metaData&&data.metaData.pageCategories&&data.metaData.pageCategories.length){plpCat=data.metaData.pageCategories[0];}var searchQry="";if(data&&data.searchParam&&data.searchParam.keyword){searchQry=data.searchParam.keyword;}var ddSMSSignupClick={eventInfo:{eventName:data.eventName,type:data.type,processed:{adobeAnalytics:false},timeStamp:new Date()},searchattributes:[{abandonmentInfo:{plpcategory:plpCat||"",searchquery:searchQry||"",resultscount:data.searchResultLength||0,timeStamp:new Date(),url:window.location.href,deviceInfo:getBrowserName()}}]};window.AAData.event.push(ddSMSSignupClick);if(data.eventName==="searchAbandonment"){analytics.sendCustomEvent("searchAbandonment");}else{analytics.sendCustomEvent("plpAbandonment");}}}};