$(document).ready(function(e){if($("div.pure-control-group input[data-parsley-required='true']").length){wireControlGroupListeners($("div.pure-control-group input[data-parsley-required='true']"));}else{if($("input[data-parsley-required='true']").length){$("input[data-parsley-required='true']").each(function(f){var $input=$(this);$input.parsley().on("field:error",function(g){$input.attr("aria-invalid","true");var ariaLabel=$input.attr("aria-label");if(ariaLabel&&ariaLabel.indexOf($input.siblings("div.error-messages").find("p.error-message").text())<1){$input.attr("aria-label",ariaLabel+" - "+$input.siblings("div.error-messages").find("p.error-message").text());}});stripAriaErrorsOnSuccess($input);});}}if($("div.gs-fitment").length&&$("#herofitmentSearchText").length){var forMyLabel=$("div.gs-fitment").find("span").first();forMyLabel.attr("tabindex","0");forMyLabel.on("focus",function(f){$(this).attr("tabindex","-1");setTimeout(function(g){$("#gs-fitment-saved-button").focus();},1000);});$("#herofitmentSearchText").on("focus",function(f){forMyLabel.attr("tabindex","0");});}if($(".promo-badge-eligible").length){$(".promo-badge-eligible").each(function(f){$(this).siblings(".nol-promo-badge-text").css("background-color",$(this).css("color"));});}});function wireControlGroupListeners($selector){$selector.each(function(){var $input=$(this);$input.parsley().on("field:error",function(){$input.attr("aria-invalid","true");var ariaLabel=$input.attr("aria-label");if(ariaLabel.indexOf($input.siblings("div.error-wrap").first("div.error-messages").find("p.error-message").text())<1){$input.attr("aria-label",ariaLabel+" - "+$input.siblings("div.error-wrap").first("div.error-messages").find("p.error-message").text());}});stripAriaErrorsOnSuccess($input);});}function stripAriaErrorsOnSuccess($input){$input.parsley().on("field:success",function(){var ariaLabel=$input.attr("aria-label");if(ariaLabel&&ariaLabel.indexOf(" -")>0){$input.attr("aria-label",ariaLabel.substring(0,ariaLabel.indexOf(" -")));}});}$("select.inline[name='activityFilter']").on("change",function(){$(this).closest("form").submit();});$('div[class="map-container"]:eq(0)').focusin(function(){$(this).css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$('div[class="map-container"]:eq(0)').focusout(function(){$(this).css("outline","");});$("a.store-browse-alphabet-item").click(function(e){$letter=$(this).html();$("div#"+$letter).closest("div.store-browse-city-spacer").find("a").first().focus();});$("a.store-browse-alphabet-item").on("keydown",function(e){if(e.keyCode==13){$letter=$(this).html();$("div#"+$letter).closest("div.store-browse-city-spacer").find("a").first().focus();}});$(window).load(function(){setTimeout(function(){$("div#oo_tab").wrap("<aside></aside>");$("div#oo_tab").attr("role","link");$("div#oo_tab").closest("div").append("<span class='sr-only'>Feedback</span>");},5);});$(document).on("focusout","a.storeWebsiteLink",function(e){$("div.store-title").css("outline","none");});$(document).on("click","#billingAddressTab",function(e){$("#billingAddressTab").attr("aria-selected","true").css("border","3px solid #0d2a8a");$("#shippingAddressTab").attr("aria-selected","false").css("border","none");});$(document).on("click","#shippingAddressTab",function(e){$("#shippingAddressTab").attr("aria-selected","true").css("border","3px solid #0d2a8a");$("#billingAddressTab").attr("aria-selected","false").css("border","none");});$("a#change-my-store-link span,.button-primary.change-my-store-link.clear").on("click",function(){$("input#store-search-input").focus();setTimeout(function(){adaModal("input#store-search-input","div#GMsatelliteButton","span.featherlight-close-icon.featherlight-close");setTimeout(function(){$("div[title|='Show satellite imagery']").attr("id","GMsatelliteButton");},3500);},500);});$("div.nol-showmore-deals").find("a.nol-button").click(function(e){$("div.ada-deals-show-more").find("a.nol-product-view-btn").first().focus();});$("div.nol-showmore-deals").find("a.nol-button").keydown(function(e){if(e.keyCode==13){$("div.ada-deals-show-more").find("a.nol-product-view-btn").first().focus();}});$("#dd").focusin(function(e){$("#dd").closest("div.title-helper.blue-tab").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("#dd").focusout(function(e){$("#dd").closest("div.title-helper.blue-tab").css("outline","");});$(".navigation-item-wrapper").on("keydown",function(e){if((e.keyCode||e.which)==13){$(e.target).find(".nav-item-link")[0].click();}});function storeFinderModal(){$("input#fromAddress").focus();$('div[class="map-container"]:eq(1)').focusin(function(){$(this).css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$('div[class="map-container"]:eq(1)').focusout(function(){$(this).css("outline","");});adaPlaceholder();setTimeout(function(){$("div[title|='Show satellite imagery']").attr("id","GMsatelliteButton");adaModal2("input#store-search-input","div#GMsatelliteButton","span.featherlight-close-icon.featherlight-close");},3500);$("a#upArrowClick").on("focus",function(){$("img.arrow-up").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("a#upArrowClick").on("blur",function(){$("img.arrow-up").css("outline","");});$("a").each(function(){if($(this).find("button-primary.clear.featherlight-close").length!==0){$(this).on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$("span.featherlight-close-icon.featherlight-close").click();}});}});}$(document).on("focus","div.store-listing-icon.icon-napa-rewards-participation a",function(){$(this).closest("div").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$(document).on("blur","div.store-listing-icon.icon-napa-rewards-participation a",function(){$(this).closest("div").css("outline","");});$(document).on("focus","div.nol-my-store a",function(){$("div.nol-my-store").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$(document).on("blur","div.nol-my-store a",function(){$("div.nol-my-store").css("outline","");});$(document).ready(function(){$("span.nol-slide-link.link-blue").attr("tabindex","0");$("span.nol-slide-link.link-blue").on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});$("a.nol-slide-link").attr("tabindex","0");$("a.nol-slide-link").on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});if($(window).width()>1024){$('.contact-method-number a[href^="tel:"], .listing-price-block a[href^="tel:"], .grouped-spread a[href^="tel:"]').each(function(){$(this).addClass("tel-no");$(this).attr("href","#");});}});$(".product-warranty-download").click(function(){var html="<span>"+ACC.warrantyInfoText+" "+ACC.popupOpenedText+"</span>";adaDynamicMessage(".aria-live-region",html);setTimeout(function(){adaModal(".link-blue.product-warranty-download",".link-blue.product-warranty-download",".featherlight-close-icon.featherlight-close");$(".featherlight-close-icon.featherlight-close").one("click",function(){html="<span>"+ACC.warrantyInfoText+" "+ACC.popupClosedText+"</span>";adaDynamicMessage(".aria-live-region",html);});},100);});$("#veh-ymm-model").on("keydown",function(e){var element=$(this);if(e.which===9&&!e.shiftKey){setTimeout(function(){if(element.val()!==""){$("#veh-ymm-submit").focus();}},100);}});$("#signin").on("keydown",function(e){if((e.keyCode||e.which)==13){$(this).click();}});$("input#veh-ymm-make").on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();setTimeout(function(){if(!$("input#veh-ymm-year").focus()){$("input#veh-ymm-year").focus();}},100);}});$("input#veh-ymm-year").on("keydown",function(e){if(e.keyCode==9&&e.shiftKey){e.preventDefault();setTimeout(function(){if(!$("input#input-veh-type").focus()){$("input#input-veh-type").focus();}},100);}});$(document).ready(function(){setTimeout(function(){$("span.bcText a").on("click",function(){setTimeout(function(){$("div.bc-frame-title").removeAttr("alt");$("div.bc-frame-title").removeAttr("title");$("div.bc-frame-title").replaceWith('<h1 class="ada-online-chat-h2-adjustment bc-frame-title">NAPA Online Chat</h1>');},2500);});},5000);});$(window).load(function(){setTimeout(function(){$("div.bc-frame-title").removeAttr("alt");$("div.bc-frame-title").removeAttr("title");$("div.bc-frame-title").replaceWith('<h1 class="ada-online-chat-h2-adjustment bc-frame-title">NAPA Online Chat</h1>');},2500);});if(window.location.href.indexOf("my-account/profile")>-1){$("span.radio-inner:eq(0)").on("focus",function(){if($("input#radio1").is(":checked")){if($("span.radio-inner:eq(0)").attr("aria-label").indexOf("selected")>-1){}else{$("span.radio-inner:eq(0)").attr("aria-label",$("span.radio-inner:eq(0)").attr("aria-label")+" selected");$("span.radio-inner:eq(0)").attr("aria-checked","true");}}});$("span.radio-inner:eq(1)").on("focus",function(){if($("input#radio2").is(":checked")){if($("span.radio-inner:eq(1)").attr("aria-label").indexOf("selected")>-1){}else{$("span.radio-inner:eq(1)").attr("aria-label",$("span.radio-inner:eq(1)").attr("aria-label")+" selected");$("span.radio-inner:eq(1)").attr("aria-checked","true");}}});$("span.radio-inner:eq(0)").on("keydown",function(e){var code=e.keyCode||e.which;if(code==38||code==40){e.preventDefault();$("span.radio-inner:eq(1)").focus();$("span.radio-inner:eq(1)").click();if($("input#radio2").is(":checked")){if($("span.radio-inner:eq(1)").attr("aria-label").indexOf("selected")>-1){}else{$("span.radio-inner:eq(1)").attr("aria-label",$("span.radio-inner:eq(1)").attr("aria-label")+" selected");$("span.radio-inner:eq(1)").attr("aria-checked","true");}}$("span.radio-inner:eq(0)").attr("aria-label",$("span.radio-inner:eq(0)").attr("aria-label").replace("selected",""));$("span.radio-inner:eq(0)").attr("aria-checked","false");}if(code==13){$(this).click();}});$("span.radio-inner:eq(1)").on("keydown",function(e){var code=e.keyCode||e.which;if(code==38||code==40){e.preventDefault();$("span.radio-inner:eq(0)").focus();$("span.radio-inner:eq(0)").click();if($("input#radio1").is(":checked")){if($("span.radio-inner:eq(0)").attr("aria-label").indexOf("selected")>-1){}else{$("span.radio-inner:eq(0)").attr("aria-label",$("span.radio-inner:eq(0)").attr("aria-label")+" selected");}}$("span.radio-inner:eq(1)").attr("aria-label",$("span.radio-inner:eq(1)").attr("aria-label").replace("selected",""));}if(code==13){$(this).click();}});$("span.radio-inner:eq(0)").on("click",function(){if($(this).attr("aria-label").indexOf("selected")>-1){}else{$(this).attr("aria-label",$("span.radio-inner:eq(0)").attr("aria-label")+" selected");$("span.radio-inner:eq(1)").attr("aria-label",$("span.radio-inner:eq(1)").attr("aria-label").replace("selected",""));}});$("span.radio-inner:eq(1)").on("click",function(){if($(this).attr("aria-label").indexOf("selected")>-1){}else{$(this).attr("aria-label",$("span.radio-inner:eq(1)").attr("aria-label")+" selected");$("span.radio-inner:eq(0)").attr("aria-label",$("span.radio-inner:eq(0)").attr("aria-label").replace("selected",""));}});}$(document).ready(function(){var x=1;$("div.image-mask").each(function(){$(this).attr("aria-label","Product image "+x);x++;});$("div.image-mask").on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).closest("div.image-additional-item").click();}});});$(document).ready(function(){$("div.ncol-md-3.ncol-xs-6.ptlp-cat-pod a").each(function(){var adaHref=$(this).attr("href");$(this).attr("onClick",'javascript:location.href="'+adaHref+'"');$(this).attr("href","#");var adaTitle=$(this).attr("title");if($(this).attr("href").indexOf("/es/search?")>-1){$(this).attr("title",adaTitle+" Tipo de Parte");$(this).attr("aria-label",adaTitle+" Tipo de Parte");}else{$(this).attr("title",adaTitle+" part type");$(this).attr("aria-label",adaTitle+" part type");}});});$(document).ready(function(){$("a.nol-button.pdp-panel__rolbtn").each(function(){if($(this).hasClass("dark-grey")){$(this).attr("aria-label",$(this).text()+" Button Disabled");}});$("a.nol-button.blue.btn-plp-add-to-cart").each(function(){if($(this).hasClass("dark-grey")){$(this).attr("aria-label",$(this).attr("aria-label")+" Button Disabled");}});});$("a.filter-panel-title").on("click",function(){if($("div.nol-filters.no-border div").hasClass("filter-panel-open")){$(this).attr("aria-expanded","false");}else{$(this).attr("aria-expanded","true");}});$(document).ready(function(){setTimeout(function(){$("div.nol-group-items").on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){$(this).click();}});},2500);});$("a#adaAutoCare").on("keydown",function(e){var url=$(this).attr("href");console.log(url);var code=e.keyCode||e.which;if(code==13){window.open(""+url+"","_blank");}});$("a#upArrowClick").on("focus",function(){$("a#upArrowClick img").css({outline:"2px solid #333333","outline-style":"dotted","outline-offset":"2px"});});$("a#upArrowClick").on("blur",function(){$("a#upArrowClick img").css("outline","");});if(window.location.href.indexOf("frequently-asked-questions")>-1){$("a.filter-panel-title").each(function(){if($(this).parent().hasClass("filter-panel-open")){$(this).attr("aria-expanded","true");}else{$(this).attr("aria-expanded","false");}$(this).on("click",function(){if($(this).parent().hasClass("filter-panel-open")){$(this).attr("aria-expanded","false");}else{$(this).attr("aria-expanded","true");}});$(this).on("keydown",function(e){var code=e.keyCode||e.which;if(code==13){if($(this).parent().hasClass("filter-panel-open")){$(this).attr("aria-expanded","false");}else{$(this).attr("aria-expanded","true");}}});});}$("button#btn-apply-voucher").on("click",function(){$("input.promo-input-field").attr("aria-label","");setTimeout(function(){if($("span.promo-error").attr("style").indexOf("block")>-1){$("input.promo-input-field").focus();$("input.promo-input-field").attr("aria-label"," Entry invalid");}},1500);setTimeout(function(){if($("span.promo-error").attr("style").indexOf("block")>-1){$("input.promo-input-field").attr("aria-label","Please enter a valid promo code");}},1600);});$("input#aaaCode").on("focus",function(){if($("div#parsley-id-13").hasClass("filled")){if($("input#aaaCode").attr("aria-label").indexOf("invalid entry")>-1){}else{$("input#aaaCode").attr("aria-label",$("input#aaaCode").attr("aria-label")+" invalid entry");}}else{$("input#aaaCode").attr("aria-label",$("input#aaaCode").attr("aria-label").replace("invalid entry",""));}});$("input#aaaZip").on("focus",function(){if($("div#parsley-id-15").hasClass("filled")){if($("input#aaaZip").attr("aria-label").indexOf("invalid entry")>-1){}else{$("input#aaaZip").attr("aria-label",$("input#aaaZip").attr("aria-label")+" invalid entry");}}else{$("input#aaaZip").attr("aria-label",$("input#aaaZip").attr("aria-label").replace("invalid entry",""));}});if(window.location.href.indexOf("login/subscribe")>-1){$("div.radio-outer:eq(0)").on("focus",function(){if($("input#radio1").is(":checked")){if($("div.radio-outer:eq(0)").attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(0)").attr("aria-label",$("div.radio-outer:eq(0)").attr("aria-label")+" selected");}}});$("div.radio-outer:eq(1)").on("focus",function(){if($("input#radio2").is(":checked")){if($("div.radio-outer:eq(1)").attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(1)").attr("aria-label",$("div.radio-outer:eq(1)").attr("aria-label")+" selected");}}});$("div.radio-outer:eq(0)").on("keydown",function(e){var code=e.keyCode||e.which;if(code==38||code==40){e.preventDefault();$("div.radio-outer:eq(1)").focus();$("div.radio-outer:eq(1)").click();if($("input#radio2").is(":checked")){if($("div.radio-outer:eq(1)").attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(1)").attr("aria-label",$("div.radio-outer:eq(1)").attr("aria-label")+" selected");}}$("div.radio-outer:eq(0)").attr("aria-label",$("div.radio-outer:eq(0)").attr("aria-label").replace("selected",""));}if(code==13){$(this).click();if($(this).attr("aria-label").indexOf("selected")>-1){}else{$(this).attr("aria-label","English Radio Button selected");}}});$("div.radio-outer:eq(1)").on("keydown",function(e){var code=e.keyCode||e.which;if(code==38||code==40){e.preventDefault();$("div.radio-outer:eq(0)").focus();$("div.radio-outer:eq(0)").click();if($("input#radio1").is(":checked")){if($("div.radio-outer:eq(0)").attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(0)").attr("aria-label",$("div.radio-outer:eq(0)").attr("aria-label")+" selected");}}$("div.radio-outer:eq(1)").attr("aria-label",$("div.radio-outer:eq(1)").attr("aria-label").replace("selected",""));}if(code==13){$(this).click();if($(this).attr("aria-label").indexOf("selected")>-1){}else{$(this).attr("aria-label","Spanish Radio Button selected");}}});$("div.radio-outer:eq(0)").on("click",function(){if($(this).attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(1)").attr("aria-label",$("div.radio-outer:eq(1)").attr("aria-label").replace("selected",""));}});$("div.radio-outer:eq(1)").on("click",function(){if($(this).attr("aria-label").indexOf("selected")>-1){}else{$("div.radio-outer:eq(0)").attr("aria-label",$("div.radio-outer:eq(0)").attr("aria-label").replace("selected",""));}});$("span.radio-language:eq(0)").on("click",function(){$("div.radio-outer:eq(0)").click();$(this).attr("aria-label"," Radio button selected");$("span.radio-language:eq(1)").attr("aria-label",$("span.radio-language:eq(1)").attr("aria-label").replace(" Radio button selected",""));});$("span.radio-language:eq(1)").on("click",function(){$("div.radio-outer:eq(1)").click();$(this).attr("aria-label"," Radio button selected");$("span.radio-language:eq(0)").attr("aria-label",$("span.radio-language:eq(0)").attr("aria-label").replace(" Radio button selected",""));});}$(document).ready(function(){$("body").on("click",".add-new-vehicle",function(){setTimeout(function(){$("#dialog1Title").click();},2000);setTimeout(function(){$("input#modal-year").click();},3000);});$("ul.fitment-modal-tabs li").on("click",function(e){$("ul.fitment-modal-tabs li").attr("aria-selected","false");$(this).attr("aria-selected","true");});});